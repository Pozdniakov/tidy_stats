<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11 Описательная статистика | Анализ данных и статистика в R</title>
  <meta name="description" content="11 Описательная статистика | Анализ данных и статистика в R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="11 Описательная статистика | Анализ данных и статистика в R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11 Описательная статистика | Анализ данных и статистика в R" />
  
  
  

<meta name="author" content="Поздняков Иван" />


<meta name="date" content="2021-04-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidyverse-advanced.html"/>
<link rel="next" href="rmd.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.16/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Анализ данных и статистика в R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> О курсе</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Введение в R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#install"><i class="fa fa-check"></i><b>2.1</b> Установка R и Rstudio</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#rstudio"><i class="fa fa-check"></i><b>2.2</b> Знакомство с RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#calc"><i class="fa fa-check"></i><b>2.3</b> R как калькулятор</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#func"><i class="fa fa-check"></i><b>2.4</b> Функции</a></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#google"><i class="fa fa-check"></i><b>2.5</b> В любой непонятной ситуации — гуглите</a></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#variables"><i class="fa fa-check"></i><b>2.6</b> Переменные</a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#logic"><i class="fa fa-check"></i><b>2.7</b> Логические операторы</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vector.html"><a href="vector.html"><i class="fa fa-check"></i><b>3</b> Вектор</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vector.html"><a href="vector.html#atomic"><i class="fa fa-check"></i><b>3.1</b> Понятие atomic вектора в R</a></li>
<li class="chapter" data-level="3.2" data-path="vector.html"><a href="vector.html#coercion"><i class="fa fa-check"></i><b>3.2</b> Приведение типов</a></li>
<li class="chapter" data-level="3.3" data-path="vector.html"><a href="vector.html#vector_op"><i class="fa fa-check"></i><b>3.3</b> Векторизация</a></li>
<li class="chapter" data-level="3.4" data-path="vector.html"><a href="vector.html#recycling"><i class="fa fa-check"></i><b>3.4</b> Ресайклинг</a></li>
<li class="chapter" data-level="3.5" data-path="vector.html"><a href="vector.html#index_atomic"><i class="fa fa-check"></i><b>3.5</b> Индексирование векторов</a></li>
<li class="chapter" data-level="3.6" data-path="vector.html"><a href="vector.html#logic_vectors"><i class="fa fa-check"></i><b>3.6</b> Работа с логическими векторами</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="vector.html"><a href="vector.html#logic_mean_sum"><i class="fa fa-check"></i><b>3.6.1</b> <code>mean()</code> и <code>sum()</code> для подсчета пропорций и количества TRUE</a></li>
<li class="chapter" data-level="3.6.2" data-path="vector.html"><a href="vector.html#all_any"><i class="fa fa-check"></i><b>3.6.2</b> <code>all()</code> и <code>any()</code></a></li>
<li class="chapter" data-level="3.6.3" data-path="vector.html"><a href="vector.html#which"><i class="fa fa-check"></i><b>3.6.3</b> Превращение логических значений в индексы: <code>which()</code></a></li>
<li class="chapter" data-level="3.6.4" data-path="vector.html"><a href="vector.html#in"><i class="fa fa-check"></i><b>3.6.4</b> оператор %in% и match()</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="vector.html"><a href="vector.html#na"><i class="fa fa-check"></i><b>3.7</b> NA - пропущенные значения</a></li>
<li class="chapter" data-level="3.8" data-path="vector.html"><a href="vector.html#vector_end"><i class="fa fa-check"></i><b>3.8</b> Заключение</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="complex-structures.html"><a href="complex-structures.html"><i class="fa fa-check"></i><b>4</b> Сложные структуры данных в R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="complex-structures.html"><a href="complex-structures.html#matrix"><i class="fa fa-check"></i><b>4.1</b> Матрица</a></li>
<li class="chapter" data-level="4.2" data-path="complex-structures.html"><a href="complex-structures.html#arrays"><i class="fa fa-check"></i><b>4.2</b> Массив</a></li>
<li class="chapter" data-level="4.3" data-path="complex-structures.html"><a href="complex-structures.html#list"><i class="fa fa-check"></i><b>4.3</b> Список</a></li>
<li class="chapter" data-level="4.4" data-path="complex-structures.html"><a href="complex-structures.html#df"><i class="fa fa-check"></i><b>4.4</b> Датафрейм</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>5</b> Пакеты в R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-packages.html"><a href="r-packages.html#extra_pack"><i class="fa fa-check"></i><b>5.1</b> Дополнительные пакеты</a></li>
<li class="chapter" data-level="5.2" data-path="r-packages.html"><a href="r-packages.html#r_built_in"><i class="fa fa-check"></i><b>5.2</b> Встроенные пакеты R</a></li>
<li class="chapter" data-level="5.3" data-path="r-packages.html"><a href="r-packages.html#install_cran"><i class="fa fa-check"></i><b>5.3</b> Установка пакетов с CRAN</a></li>
<li class="chapter" data-level="5.4" data-path="r-packages.html"><a href="r-packages.html#package_load"><i class="fa fa-check"></i><b>5.4</b> Загрузка установленного пакета</a></li>
<li class="chapter" data-level="5.5" data-path="r-packages.html"><a href="r-packages.html#from_package"><i class="fa fa-check"></i><b>5.5</b> Вызов функции из пакета с помощью <code>::</code></a></li>
<li class="chapter" data-level="5.6" data-path="r-packages.html"><a href="r-packages.html#install_bioc"><i class="fa fa-check"></i><b>5.6</b> Установка пакетов c Bioconductor</a></li>
<li class="chapter" data-level="5.7" data-path="r-packages.html"><a href="r-packages.html#install_github"><i class="fa fa-check"></i><b>5.7</b> Установка пакетов с Github</a></li>
<li class="chapter" data-level="5.8" data-path="r-packages.html"><a href="r-packages.html#where_packages"><i class="fa fa-check"></i><b>5.8</b> Где искать нужные пакеты</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="real-data.html"><a href="real-data.html"><i class="fa fa-check"></i><b>6</b> Импорт и экспорт данных</a>
<ul>
<li class="chapter" data-level="6.1" data-path="real-data.html"><a href="real-data.html#wd"><i class="fa fa-check"></i><b>6.1</b> Рабочая папка и проекты RStudio</a></li>
<li class="chapter" data-level="6.2" data-path="real-data.html"><a href="real-data.html#project_workflow"><i class="fa fa-check"></i><b>6.2</b> Организация проектов</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="real-data.html"><a href="real-data.html#text_binary"><i class="fa fa-check"></i><b>6.2.1</b> Табличные данные: текстовые и бинарные данные</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="real-data.html"><a href="real-data.html#check_imported"><i class="fa fa-check"></i><b>6.3</b> Проверка импортированных данных</a></li>
<li class="chapter" data-level="6.4" data-path="real-data.html"><a href="real-data.html#export_data"><i class="fa fa-check"></i><b>6.4</b> Экспорт данных</a></li>
<li class="chapter" data-level="6.5" data-path="real-data.html"><a href="real-data.html#binary"><i class="fa fa-check"></i><b>6.5</b> Импорт таблиц в бинарном формате: таблицы Excel, SPSS</a></li>
<li class="chapter" data-level="6.6" data-path="real-data.html"><a href="real-data.html#fastread"><i class="fa fa-check"></i><b>6.6</b> Быстрый импорт данных</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="loops-conditions.html"><a href="loops-conditions.html"><i class="fa fa-check"></i><b>7</b> Условные конструкции и циклы</a>
<ul>
<li class="chapter" data-level="7.1" data-path="loops-conditions.html"><a href="loops-conditions.html#if"><i class="fa fa-check"></i><b>7.1</b> Выражения <code>if</code>, <code>else</code>, <code>else if</code></a></li>
<li class="chapter" data-level="7.2" data-path="loops-conditions.html"><a href="loops-conditions.html#for"><i class="fa fa-check"></i><b>7.2</b> Циклы <code>for</code></a></li>
<li class="chapter" data-level="7.3" data-path="loops-conditions.html"><a href="loops-conditions.html#ifelse"><i class="fa fa-check"></i><b>7.3</b> Векторизованные условные конструкции: функции <code>ifelse()</code> и <code>dplyr::case_when()</code></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="functional.html"><a href="functional.html"><i class="fa fa-check"></i><b>8</b> Функциональное программирование в R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="functional.html"><a href="functional.html#create_fun"><i class="fa fa-check"></i><b>8.1</b> Создание функций</a></li>
<li class="chapter" data-level="8.2" data-path="functional.html"><a href="functional.html#sanity_check"><i class="fa fa-check"></i><b>8.2</b> Проверка на адекватность</a></li>
<li class="chapter" data-level="8.3" data-path="functional.html"><a href="functional.html#why_functions"><i class="fa fa-check"></i><b>8.3</b> Когда и зачем создавать функции?</a></li>
<li class="chapter" data-level="8.4" data-path="functional.html"><a href="functional.html#functions_objects"><i class="fa fa-check"></i><b>8.4</b> Функции как объекты первого порядка</a></li>
<li class="chapter" data-level="8.5" data-path="functional.html"><a href="functional.html#apply_f"><i class="fa fa-check"></i><b>8.5</b> Семейство функций apply()</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="functional.html"><a href="functional.html#apply"><i class="fa fa-check"></i><b>8.5.1</b> Применение <code>apply()</code> для матриц</a></li>
<li class="chapter" data-level="8.5.2" data-path="functional.html"><a href="functional.html#anon_f"><i class="fa fa-check"></i><b>8.5.2</b> Анонимные функции</a></li>
<li class="chapter" data-level="8.5.3" data-path="functional.html"><a href="functional.html#apply_other"><i class="fa fa-check"></i><b>8.5.3</b> Другие функции семейства <code>apply()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidy-intro.html"><a href="tidy-intro.html"><i class="fa fa-check"></i><b>9</b> Введение в tidyverse</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_verse"><i class="fa fa-check"></i><b>9.1</b> Вселенная tidyverse</a></li>
<li class="chapter" data-level="9.2" data-path="tidy-intro.html"><a href="tidy-intro.html#загрузка-данных-с-помощью-readr"><i class="fa fa-check"></i><b>9.2</b> Загрузка данных с помощью <code>readr</code></a></li>
<li class="chapter" data-level="9.3" data-path="tidy-intro.html"><a href="tidy-intro.html#pipe"><i class="fa fa-check"></i><b>9.3</b> magrittr::<code>%&gt;%</code></a></li>
<li class="chapter" data-level="9.4" data-path="tidy-intro.html"><a href="tidy-intro.html#главные-пакеты-tidyverse-dplyr-и-tidyr"><i class="fa fa-check"></i><b>9.4</b> Главные пакеты tidyverse: <code>dplyr</code> и <code>tidyr</code></a></li>
<li class="chapter" data-level="9.5" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_select_cols"><i class="fa fa-check"></i><b>9.5</b> Работа с колонками тиббла</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="tidy-intro.html"><a href="tidy-intro.html#выбор-колонок-dplyrselect"><i class="fa fa-check"></i><b>9.5.1</b> Выбор колонок: <code>dplyr::select()</code></a></li>
<li class="chapter" data-level="9.5.2" data-path="tidy-intro.html"><a href="tidy-intro.html#tidyselect"><i class="fa fa-check"></i><b>9.5.2</b> Мини-язык tidyselect для выбора колонок</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_select_rows"><i class="fa fa-check"></i><b>9.6</b> Работа со строками тиббла</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_slice"><i class="fa fa-check"></i><b>9.6.1</b> Выбор строк по номеру: <code>dplyr::slice()</code></a></li>
<li class="chapter" data-level="9.6.2" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_filter"><i class="fa fa-check"></i><b>9.6.2</b> Выбор строк по условию: <code>dplyr::filter()</code></a></li>
<li class="chapter" data-level="9.6.3" data-path="tidy-intro.html"><a href="tidy-intro.html#slice_family"><i class="fa fa-check"></i><b>9.6.3</b> Семейство функций <code>slice()</code></a></li>
<li class="chapter" data-level="9.6.4" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_drop_na"><i class="fa fa-check"></i><b>9.6.4</b> Удаление строчек с NA: <code>tidyr::drop_na()</code></a></li>
<li class="chapter" data-level="9.6.5" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_arrange"><i class="fa fa-check"></i><b>9.6.5</b> Сортировка строк: <code>dplyr::arrange()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_mutate"><i class="fa fa-check"></i><b>9.7</b> Создание колонок: <code>dplyr::mutate()</code> и <code>dplyr::transmute()</code></a></li>
<li class="chapter" data-level="9.8" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_aggregate"><i class="fa fa-check"></i><b>9.8</b> Агрегация данных в тиббле</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="tidy-intro.html"><a href="tidy-intro.html#summarise"><i class="fa fa-check"></i><b>9.8.1</b> Подытоживание: <code>summarise()</code></a></li>
<li class="chapter" data-level="9.8.2" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_group"><i class="fa fa-check"></i><b>9.8.2</b> Группировка: <code>group_by()</code></a></li>
<li class="chapter" data-level="9.8.3" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_count"><i class="fa fa-check"></i><b>9.8.3</b> Подсчет строк: <code>dplyr::n()</code>, <code>dplyr::count()</code></a></li>
<li class="chapter" data-level="9.8.4" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_distinct"><i class="fa fa-check"></i><b>9.8.4</b> Уникальные значения: <code>dplyr::distinct()</code></a></li>
<li class="chapter" data-level="9.8.5" data-path="tidy-intro.html"><a href="tidy-intro.html#tidy_group_mutate"><i class="fa fa-check"></i><b>9.8.5</b> Создание колонок с группировкой</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html"><i class="fa fa-check"></i><b>10</b> Продвинутый tidyverse</a>
<ul>
<li class="chapter" data-level="10.1" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#tidy_several"><i class="fa fa-check"></i><b>10.1</b> Объединение нескольких датафреймов</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#tidy_bind"><i class="fa fa-check"></i><b>10.1.1</b> Соединение структурно схожих датафреймов: bind_rows(), bind_cols()</a></li>
<li class="chapter" data-level="10.1.2" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#tidy_join"><i class="fa fa-check"></i><b>10.1.2</b> Реляционные данные: <code>*_join()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#tidy_data"><i class="fa fa-check"></i><b>10.2</b> Tidy data: <code>tidyr::pivot_longer()</code>, <code>tidyr::pivot_wider()</code></a></li>
<li class="chapter" data-level="10.3" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#трансформация-нескольких-колонок-dplyracross"><i class="fa fa-check"></i><b>10.3</b> Трансформация нескольких колонок: <code>dplyr::across()</code></a></li>
<li class="chapter" data-level="10.4" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#purrr"><i class="fa fa-check"></i><b>10.4</b> Функциональное программирование: <code>purrr</code></a></li>
<li class="chapter" data-level="10.5" data-path="tidyverse-advanced.html"><a href="tidyverse-advanced.html#list_colums_nest"><i class="fa fa-check"></i><b>10.5</b> Колонки-списки и нестинг: <code>nest()</code></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="vdesc.html"><a href="vdesc.html"><i class="fa fa-check"></i><b>11</b> Описательная статистика</a>
<ul>
<li class="chapter" data-level="11.1" data-path="vdesc.html"><a href="vdesc.html#desc_infer"><i class="fa fa-check"></i><b>11.1</b> Описательная статистика и статистика вывода</a></li>
<li class="chapter" data-level="11.2" data-path="vdesc.html"><a href="vdesc.html#типы-шкал"><i class="fa fa-check"></i><b>11.2</b> Типы шкал</a></li>
<li class="chapter" data-level="11.3" data-path="vdesc.html"><a href="vdesc.html#cent_tend"><i class="fa fa-check"></i><b>11.3</b> Меры центральной тенденции</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="vdesc.html"><a href="vdesc.html#mean"><i class="fa fa-check"></i><b>11.3.1</b> Арифметическое среднее</a></li>
<li class="chapter" data-level="11.3.2" data-path="vdesc.html"><a href="vdesc.html#median"><i class="fa fa-check"></i><b>11.3.2</b> Медиана</a></li>
<li class="chapter" data-level="11.3.3" data-path="vdesc.html"><a href="vdesc.html#trim"><i class="fa fa-check"></i><b>11.3.3</b> Усеченное среднее (trimmed mean)</a></li>
<li class="chapter" data-level="11.3.4" data-path="vdesc.html"><a href="vdesc.html#mode"><i class="fa fa-check"></i><b>11.3.4</b> Мода</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="vdesc.html"><a href="vdesc.html#vary"><i class="fa fa-check"></i><b>11.4</b> Меры рассеяния</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="vdesc.html"><a href="vdesc.html#var"><i class="fa fa-check"></i><b>11.4.1</b> Дисперсия</a></li>
<li class="chapter" data-level="11.4.2" data-path="vdesc.html"><a href="vdesc.html#sd"><i class="fa fa-check"></i><b>11.4.2</b> Стандартное отклонение</a></li>
<li class="chapter" data-level="11.4.3" data-path="vdesc.html"><a href="vdesc.html#mad"><i class="fa fa-check"></i><b>11.4.3</b> Медианное абсолютное отклонение</a></li>
<li class="chapter" data-level="11.4.4" data-path="vdesc.html"><a href="vdesc.html#iqr"><i class="fa fa-check"></i><b>11.4.4</b> Межквартильный размах</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="vdesc.html"><a href="vdesc.html#skku"><i class="fa fa-check"></i><b>11.5</b> Ассиметрия и эксцесс</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="vdesc.html"><a href="vdesc.html#skew"><i class="fa fa-check"></i><b>11.5.1</b> Ассиметрия</a></li>
<li class="chapter" data-level="11.5.2" data-path="vdesc.html"><a href="vdesc.html#kurtosis"><i class="fa fa-check"></i><b>11.5.2</b> Эксцесс</a></li>
<li class="chapter" data-level="11.5.3" data-path="vdesc.html"><a href="vdesc.html#skewR"><i class="fa fa-check"></i><b>11.5.3</b> Ассиметрия и эксцесс в R</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="vdesc.html"><a href="vdesc.html#quantiles"><i class="fa fa-check"></i><b>11.6</b> Квантили</a></li>
<li class="chapter" data-level="11.7" data-path="vdesc.html"><a href="vdesc.html#summary"><i class="fa fa-check"></i><b>11.7</b> А теперь все вместе!</a></li>
<li class="chapter" data-level="11.8" data-path="vdesc.html"><a href="vdesc.html#grammar_of_graphics"><i class="fa fa-check"></i><b>11.8</b> История грамматики графики</a></li>
<li class="chapter" data-level="11.9" data-path="vdesc.html"><a href="vdesc.html#gg_base"><i class="fa fa-check"></i><b>11.9</b> Основы грамматики графики</a></li>
<li class="chapter" data-level="11.10" data-path="vdesc.html"><a href="vdesc.html#gg_0"><i class="fa fa-check"></i><b>11.10</b> Пример №0: пайчарт с распределение по полу</a></li>
<li class="chapter" data-level="11.11" data-path="vdesc.html"><a href="vdesc.html#gg_1"><i class="fa fa-check"></i><b>11.11</b> Пример №1: Education and IQ meta-analysis</a></li>
<li class="chapter" data-level="11.12" data-path="vdesc.html"><a href="vdesc.html#gg_ext"><i class="fa fa-check"></i><b>11.12</b> Расширения <code>ggplot2</code></a></li>
<li class="chapter" data-level="11.13" data-path="vdesc.html"><a href="vdesc.html#vis_dynamic"><i class="fa fa-check"></i><b>11.13</b> Динамические визуализации в R</a>
<ul>
<li class="chapter" data-level="11.13.1" data-path="vdesc.html"><a href="vdesc.html#html_w"><i class="fa fa-check"></i><b>11.13.1</b> Интерфейс для JavaScript фреймворков: пакет <code>htmlwidgets</code></a></li>
<li class="chapter" data-level="11.13.2" data-path="vdesc.html"><a href="vdesc.html#plotly"><i class="fa fa-check"></i><b>11.13.2</b> Динамические визуализации в <code>plotly</code></a></li>
<li class="chapter" data-level="11.13.3" data-path="vdesc.html"><a href="vdesc.html#html_other"><i class="fa fa-check"></i><b>11.13.3</b> Другие пакеты для динамической визуализации</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="rmd.html"><a href="rmd.html"><i class="fa fa-check"></i><b>12</b> R Markdown</a>
<ul>
<li class="chapter" data-level="12.1" data-path="rmd.html"><a href="rmd.html#rmd_what"><i class="fa fa-check"></i><b>12.1</b> Что такое R Markdown</a></li>
<li class="chapter" data-level="12.2" data-path="rmd.html"><a href="rmd.html#rmd_begin"><i class="fa fa-check"></i><b>12.2</b> Начало работы в R Markdown</a></li>
<li class="chapter" data-level="12.3" data-path="rmd.html"><a href="rmd.html#rmd_str"><i class="fa fa-check"></i><b>12.3</b> Структура R Markdown документа</a></li>
<li class="chapter" data-level="12.4" data-path="rmd.html"><a href="rmd.html#chunk"><i class="fa fa-check"></i><b>12.4</b> Настройки чанка</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="rmd.html"><a href="rmd.html#chunks"><i class="fa fa-check"></i><b>12.4.1</b> Настройка нескольких чанков</a></li>
<li class="chapter" data-level="12.4.2" data-path="rmd.html"><a href="rmd.html#python"><i class="fa fa-check"></i><b>12.4.2</b> Чанки с Python и другими языками программирования</a></li>
<li class="chapter" data-level="12.4.3" data-path="rmd.html"><a href="rmd.html#inline"><i class="fa fa-check"></i><b>12.4.3</b> Код вне чанков (inline code)</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="rmd.html"><a href="rmd.html#md"><i class="fa fa-check"></i><b>12.5</b> Синтаксис Markdown (без R)</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="rmd.html"><a href="rmd.html#md_high"><i class="fa fa-check"></i><b>12.5.1</b> Выделение текста</a></li>
<li class="chapter" data-level="12.5.2" data-path="rmd.html"><a href="rmd.html#headers"><i class="fa fa-check"></i><b>12.5.2</b> Заголовки разных уровней</a></li>
<li class="chapter" data-level="12.5.3" data-path="rmd.html"><a href="rmd.html#md_lists"><i class="fa fa-check"></i><b>12.5.3</b> Списки</a></li>
<li class="chapter" data-level="12.5.4" data-path="rmd.html"><a href="rmd.html#md_cite"><i class="fa fa-check"></i><b>12.5.4</b> Цитаты</a></li>
<li class="chapter" data-level="12.5.5" data-path="rmd.html"><a href="rmd.html#rmd_tables"><i class="fa fa-check"></i><b>12.5.5</b> Таблицы</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="rmd.html"><a href="rmd.html#extra_rmd"><i class="fa fa-check"></i><b>12.6</b> Дополнительные возможности R Markdown</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="rmd.html"><a href="rmd.html#dynamic_tables"><i class="fa fa-check"></i><b>12.6.1</b> Динамические таблицы</a></li>
<li class="chapter" data-level="12.6.2" data-path="rmd.html"><a href="rmd.html#vis"><i class="fa fa-check"></i><b>12.6.2</b> Графики в R Markdown</a></li>
<li class="chapter" data-level="12.6.3" data-path="rmd.html"><a href="rmd.html#html_inside"><i class="fa fa-check"></i><b>12.6.3</b> HTML-код</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="infer-stats.html"><a href="infer-stats.html"><i class="fa fa-check"></i><b>13</b> Статистика вывода</a>
<ul>
<li class="chapter" data-level="13.1" data-path="infer-stats.html"><a href="infer-stats.html#infer_intro"><i class="fa fa-check"></i><b>13.1</b> Введение в статистику вывода</a></li>
<li class="chapter" data-level="13.2" data-path="infer-stats.html"><a href="infer-stats.html#estimates"><i class="fa fa-check"></i><b>13.2</b> Оценки</a></li>
<li class="chapter" data-level="13.3" data-path="infer-stats.html"><a href="infer-stats.html#distributions"><i class="fa fa-check"></i><b>13.3</b> Распределения</a></li>
<li class="chapter" data-level="13.4" data-path="infer-stats.html"><a href="infer-stats.html#sample_estimate"><i class="fa fa-check"></i><b>13.4</b> Точечные оценки</a></li>
<li class="chapter" data-level="13.5" data-path="infer-stats.html"><a href="infer-stats.html#interval_estimate"><i class="fa fa-check"></i><b>13.5</b> Интервальные оценки</a></li>
<li class="chapter" data-level="13.6" data-path="infer-stats.html"><a href="infer-stats.html#sample_dist"><i class="fa fa-check"></i><b>13.6</b> Выборочное распределение</a></li>
<li class="chapter" data-level="13.7" data-path="infer-stats.html"><a href="infer-stats.html#nordm_dist_importance"><i class="fa fa-check"></i><b>13.7</b> Важность нормального распределения</a></li>
<li class="chapter" data-level="13.8" data-path="infer-stats.html"><a href="infer-stats.html#clt"><i class="fa fa-check"></i><b>13.8</b> Центральная предельная теорема</a></li>
<li class="chapter" data-level="13.9" data-path="infer-stats.html"><a href="infer-stats.html#ci_build"><i class="fa fa-check"></i><b>13.9</b> Строим доверительный интервал</a></li>
<li class="chapter" data-level="13.10" data-path="infer-stats.html"><a href="infer-stats.html#тестирование-значимости-нулевой-гипотезы-nhst"><i class="fa fa-check"></i><b>13.10</b> Тестирование значимости нулевой гипотезы (#nhst)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ttest.html"><a href="ttest.html"><i class="fa fa-check"></i><b>14</b> t-тест</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ttest.html"><a href="ttest.html#one_ttest"><i class="fa fa-check"></i><b>14.1</b> Одновыборочный t-тест</a></li>
<li class="chapter" data-level="14.2" data-path="ttest.html"><a href="ttest.html#two_ttest"><i class="fa fa-check"></i><b>14.2</b> Двухвыборочный t-тест</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="ttest.html"><a href="ttest.html#dep_ttest"><i class="fa fa-check"></i><b>14.2.1</b> Двухвыборочный зависимый t-тест</a></li>
<li class="chapter" data-level="14.2.2" data-path="ttest.html"><a href="ttest.html#ind_ttest"><i class="fa fa-check"></i><b>14.2.2</b> Двухвыборочный независимый t-тест</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="ttest.html"><a href="ttest.html#assumptions_ttest"><i class="fa fa-check"></i><b>14.3</b> Допущения t-теста</a></li>
<li class="chapter" data-level="14.4" data-path="ttest.html"><a href="ttest.html#nonparam_ttest"><i class="fa fa-check"></i><b>14.4</b> Непараметрические аналоги t-теста</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="ttest.html"><a href="ttest.html#wilcox_test"><i class="fa fa-check"></i><b>14.4.1</b> Тест Уилкоксона</a></li>
<li class="chapter" data-level="14.4.2" data-path="ttest.html"><a href="ttest.html#mann_test"><i class="fa fa-check"></i><b>14.4.2</b> Тест Манна-Уитни</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="cov-cor.html"><a href="cov-cor.html"><i class="fa fa-check"></i><b>15</b> Ковариация и корреляция</a>
<ul>
<li class="chapter" data-level="15.1" data-path="cov-cor.html"><a href="cov-cor.html#cov"><i class="fa fa-check"></i><b>15.1</b> Ковариация</a></li>
<li class="chapter" data-level="15.2" data-path="cov-cor.html"><a href="cov-cor.html#cor"><i class="fa fa-check"></i><b>15.2</b> Корреляция</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="cov-cor.html"><a href="cov-cor.html#pearson_cor"><i class="fa fa-check"></i><b>15.2.1</b> Коэффициент корреляции Пирсона</a></li>
<li class="chapter" data-level="15.2.2" data-path="cov-cor.html"><a href="cov-cor.html#nonparam_cor"><i class="fa fa-check"></i><b>15.2.2</b> Непараметрические коэффициенты корреляции</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="cov-cor.html"><a href="cov-cor.html#cor_mat"><i class="fa fa-check"></i><b>15.3</b> Корреляционная матрица</a></li>
<li class="chapter" data-level="15.4" data-path="cov-cor.html"><a href="cov-cor.html#hitmap_cor"><i class="fa fa-check"></i><b>15.4</b> Хитмэп корреляций</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="lm.html"><a href="lm.html"><i class="fa fa-check"></i><b>16</b> Линейная регрессия</a>
<ul>
<li class="chapter" data-level="16.1" data-path="lm.html"><a href="lm.html#lm"><i class="fa fa-check"></i><b>16.1</b> Функция <code>lm()</code></a></li>
<li class="chapter" data-level="16.2" data-path="lm.html"><a href="lm.html#interpret_lm"><i class="fa fa-check"></i><b>16.2</b> Интерпретация вывода линейной регрессии</a></li>
<li class="chapter" data-level="16.3" data-path="lm.html"><a href="lm.html#lm_a"><i class="fa fa-check"></i><b>16.3</b> Допущения линейной регрессии</a></li>
<li class="chapter" data-level="16.4" data-path="lm.html"><a href="lm.html#outliers_lm"><i class="fa fa-check"></i><b>16.4</b> Влияние выбросов на линейную модель</a></li>
<li class="chapter" data-level="16.5" data-path="lm.html"><a href="lm.html#lm_mult"><i class="fa fa-check"></i><b>16.5</b> Множественная линейная регрессия</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="anova.html"><a href="anova.html"><i class="fa fa-check"></i><b>17</b> Дисперсионный анализ (ANOVA)</a>
<ul>
<li class="chapter" data-level="17.0.1" data-path="anova.html"><a href="anova.html#aov"><i class="fa fa-check"></i><b>17.0.1</b> Функция aov()</a></li>
<li class="chapter" data-level="17.1" data-path="anova.html"><a href="anova.html#anova_nhst"><i class="fa fa-check"></i><b>17.1</b> Тестирование значимости нулевой гипотезы в ANOVA.</a></li>
<li class="chapter" data-level="17.2" data-path="anova.html"><a href="anova.html#anova_posthoc"><i class="fa fa-check"></i><b>17.2</b> Post-hoc тесты</a></li>
<li class="chapter" data-level="17.3" data-path="anova.html"><a href="anova.html#aov_as_lm"><i class="fa fa-check"></i><b>17.3</b> ANOVA и т-тест как частные случаи линейной регрессии</a></li>
<li class="chapter" data-level="17.4" data-path="anova.html"><a href="anova.html#dummy"><i class="fa fa-check"></i><b>17.4</b> Dummy coding</a></li>
<li class="chapter" data-level="17.5" data-path="anova.html"><a href="anova.html#aova"><i class="fa fa-check"></i><b>17.5</b> Допущения ANOVA</a></li>
<li class="chapter" data-level="17.6" data-path="anova.html"><a href="anova.html#fact_aov"><i class="fa fa-check"></i><b>17.6</b> Многофакторный дисперсионный анализ (Factorial ANOVA)</a></li>
<li class="chapter" data-level="17.7" data-path="anova.html"><a href="anova.html#rm_aov"><i class="fa fa-check"></i><b>17.7</b> Дисперсионный анализ с повторными измерениями (Repeated-measures ANOVA)</a></li>
<li class="chapter" data-level="17.8" data-path="anova.html"><a href="anova.html#mixed_aov"><i class="fa fa-check"></i><b>17.8</b> Смешанный дисперсионный анализ (Mixed between-within subjects ANOVA)</a></li>
<li class="chapter" data-level="17.9" data-path="anova.html"><a href="anova.html#nonparam_aov"><i class="fa fa-check"></i><b>17.9</b> Непараметрические аналоги ANOVA</a>
<ul>
<li class="chapter" data-level="17.9.1" data-path="anova.html"><a href="anova.html#krask_aov"><i class="fa fa-check"></i><b>17.9.1</b> Тест Краскела-Уоллеса</a></li>
<li class="chapter" data-level="17.9.2" data-path="anova.html"><a href="anova.html#friedman_aov"><i class="fa fa-check"></i><b>17.9.2</b> Тест Фридмана</a></li>
</ul></li>
<li class="chapter" data-level="17.10" data-path="anova.html"><a href="anova.html#aov_final"><i class="fa fa-check"></i><b>17.10</b> Заключение</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="glm-general.html"><a href="glm-general.html"><i class="fa fa-check"></i><b>18</b> Общая линейная модель и ее расширения</a>
<ul>
<li class="chapter" data-level="18.1" data-path="glm-general.html"><a href="glm-general.html#general_linear_model"><i class="fa fa-check"></i><b>18.1</b> Общая линейная модель</a></li>
<li class="chapter" data-level="18.2" data-path="glm-general.html"><a href="glm-general.html#glm_model"><i class="fa fa-check"></i><b>18.2</b> Обобщенная линейная модель</a></li>
<li class="chapter" data-level="18.3" data-path="glm-general.html"><a href="glm-general.html#lme_model"><i class="fa fa-check"></i><b>18.3</b> Модель со смешанными эффектами</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="plan.html"><a href="plan.html"><i class="fa fa-check"></i><b>19</b> Планирования научного исследования</a>
<ul>
<li class="chapter" data-level="19.1" data-path="plan.html"><a href="plan.html#quest_practices"><i class="fa fa-check"></i><b>19.1</b> Спорные исследовательские практики</a></li>
<li class="chapter" data-level="19.2" data-path="plan.html"><a href="plan.html#reproducible"><i class="fa fa-check"></i><b>19.2</b> Вопроизводимые исследования</a></li>
<li class="chapter" data-level="19.3" data-path="plan.html"><a href="plan.html#stat_power"><i class="fa fa-check"></i><b>19.3</b> Статистическая мощность</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>20</b> Задания</a>
<ul>
<li class="chapter" data-level="20.1" data-path="tasks.html"><a href="tasks.html#task_begin"><i class="fa fa-check"></i><b>20.1</b> Начало работы в R</a></li>
<li class="chapter" data-level="20.2" data-path="tasks.html"><a href="tasks.html#task_new_vecs"><i class="fa fa-check"></i><b>20.2</b> Создание векторов</a></li>
<li class="chapter" data-level="20.3" data-path="tasks.html"><a href="tasks.html#task_coer"><i class="fa fa-check"></i><b>20.3</b> Приведение типов</a></li>
<li class="chapter" data-level="20.4" data-path="tasks.html"><a href="tasks.html#task_vec_ion"><i class="fa fa-check"></i><b>20.4</b> Векторизация</a></li>
<li class="chapter" data-level="20.5" data-path="tasks.html"><a href="tasks.html#task_vec_ind"><i class="fa fa-check"></i><b>20.5</b> Индексирование векторов</a></li>
<li class="chapter" data-level="20.6" data-path="tasks.html"><a href="tasks.html#task_na"><i class="fa fa-check"></i><b>20.6</b> Работа с пропущенными значениями</a></li>
<li class="chapter" data-level="20.7" data-path="tasks.html"><a href="tasks.html#task_matrix"><i class="fa fa-check"></i><b>20.7</b> Матрицы</a></li>
<li class="chapter" data-level="20.8" data-path="tasks.html"><a href="tasks.html#task_list"><i class="fa fa-check"></i><b>20.8</b> Списки</a></li>
<li class="chapter" data-level="20.9" data-path="tasks.html"><a href="tasks.html#task_df"><i class="fa fa-check"></i><b>20.9</b> Датафрейм</a></li>
<li class="chapter" data-level="20.10" data-path="tasks.html"><a href="tasks.html#task_if"><i class="fa fa-check"></i><b>20.10</b> Условные конструкции</a></li>
<li class="chapter" data-level="20.11" data-path="tasks.html"><a href="tasks.html#task_function"><i class="fa fa-check"></i><b>20.11</b> Создание функций</a></li>
<li class="chapter" data-level="20.12" data-path="tasks.html"><a href="tasks.html#task_sanity"><i class="fa fa-check"></i><b>20.12</b> Проверка на адекватность</a></li>
<li class="chapter" data-level="20.13" data-path="tasks.html"><a href="tasks.html#task_apply"><i class="fa fa-check"></i><b>20.13</b> Семейство функций apply()</a></li>
<li class="chapter" data-level="20.14" data-path="tasks.html"><a href="tasks.html#task_pipe"><i class="fa fa-check"></i><b>20.14</b> magrittr::<code>%&gt;%</code></a></li>
<li class="chapter" data-level="20.15" data-path="tasks.html"><a href="tasks.html#task_select"><i class="fa fa-check"></i><b>20.15</b> Выбор столбцов: <code>dplyr::select()</code></a></li>
<li class="chapter" data-level="20.16" data-path="tasks.html"><a href="tasks.html#task_filt"><i class="fa fa-check"></i><b>20.16</b> Выбор строк: <code>dplyr::slice()</code> и <code>dplyr::filter()</code></a></li>
<li class="chapter" data-level="20.17" data-path="tasks.html"><a href="tasks.html#task_arr"><i class="fa fa-check"></i><b>20.17</b> Сортировка строк: <code>dplyr::arrange()</code></a></li>
<li class="chapter" data-level="20.18" data-path="tasks.html"><a href="tasks.html#task_dist"><i class="fa fa-check"></i><b>20.18</b> Уникальные значения: <code>dplyr::distinct()</code></a></li>
<li class="chapter" data-level="20.19" data-path="tasks.html"><a href="tasks.html#task_mutate"><i class="fa fa-check"></i><b>20.19</b> Создание колонок: <code>dplyr::mutate()</code> и <code>dplyr::transmute()</code></a></li>
<li class="chapter" data-level="20.20" data-path="tasks.html"><a href="tasks.html#task_group_by"><i class="fa fa-check"></i><b>20.20</b> Агрегация: <code>dplyr::group_by() %&gt;% summarise()</code></a></li>
<li class="chapter" data-level="20.21" data-path="tasks.html"><a href="tasks.html#соединение-датафреймов-_join-task_join"><i class="fa fa-check"></i><b>20.21</b> Соединение датафреймов: *_join {#task_join}</a></li>
<li class="chapter" data-level="20.22" data-path="tasks.html"><a href="tasks.html#task_join"><i class="fa fa-check"></i><b>20.22</b> Tidy data</a></li>
<li class="chapter" data-level="20.23" data-path="tasks.html"><a href="tasks.html#task_across"><i class="fa fa-check"></i><b>20.23</b> Операции с несколькими колонками: <code>across()</code></a></li>
<li class="chapter" data-level="20.24" data-path="tasks.html"><a href="tasks.html#desc_tasks"><i class="fa fa-check"></i><b>20.24</b> Описательная статистика</a></li>
<li class="chapter" data-level="20.25" data-path="tasks.html"><a href="tasks.html#ggplot2_tasks"><i class="fa fa-check"></i><b>20.25</b> Построение графиков в <code>ggplot2</code></a></li>
<li class="chapter" data-level="20.26" data-path="tasks.html"><a href="tasks.html#dist_tasks"><i class="fa fa-check"></i><b>20.26</b> Распределения</a></li>
<li class="chapter" data-level="20.27" data-path="tasks.html"><a href="tasks.html#one_ttest_tasks"><i class="fa fa-check"></i><b>20.27</b> Одновыборочный t-test</a></li>
<li class="chapter" data-level="20.28" data-path="tasks.html"><a href="tasks.html#dep_ttest_tasks"><i class="fa fa-check"></i><b>20.28</b> Двухвыборочный зависимый t-test</a></li>
<li class="chapter" data-level="20.29" data-path="tasks.html"><a href="tasks.html#ind_ttest_tasks"><i class="fa fa-check"></i><b>20.29</b> Двухвыборочный независимый t-test</a></li>
<li class="chapter" data-level="20.30" data-path="tasks.html"><a href="tasks.html#nonparam_ttest_tasks"><i class="fa fa-check"></i><b>20.30</b> Непараметрические аналоги t-теста</a></li>
<li class="chapter" data-level="20.31" data-path="tasks.html"><a href="tasks.html#backpack_tasks"><i class="fa fa-check"></i><b>20.31</b> Исследование набора данных Backpack</a></li>
<li class="chapter" data-level="20.32" data-path="tasks.html"><a href="tasks.html#cov_tasks"><i class="fa fa-check"></i><b>20.32</b> Ковариация</a></li>
<li class="chapter" data-level="20.33" data-path="tasks.html"><a href="tasks.html#cor_tasks"><i class="fa fa-check"></i><b>20.33</b> Коэффициент корреляции</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i><b>21</b> Решения заданий</a>
<ul>
<li class="chapter" data-level="21.1" data-path="solutions.html"><a href="solutions.html#solution_begin"><i class="fa fa-check"></i><b>21.1</b> Начало работы в R</a></li>
<li class="chapter" data-level="21.2" data-path="solutions.html"><a href="solutions.html#solution_new_vecs"><i class="fa fa-check"></i><b>21.2</b> Создание векторов</a></li>
<li class="chapter" data-level="21.3" data-path="solutions.html"><a href="solutions.html#solution_coer"><i class="fa fa-check"></i><b>21.3</b> Приведение типов</a></li>
<li class="chapter" data-level="21.4" data-path="solutions.html"><a href="solutions.html#solution_vec_ion"><i class="fa fa-check"></i><b>21.4</b> Векторизация</a></li>
<li class="chapter" data-level="21.5" data-path="solutions.html"><a href="solutions.html#solution_vec_ind"><i class="fa fa-check"></i><b>21.5</b> Индексирование векторов</a></li>
<li class="chapter" data-level="21.6" data-path="solutions.html"><a href="solutions.html#solution_na"><i class="fa fa-check"></i><b>21.6</b> Работа с пропущенными значениями</a></li>
<li class="chapter" data-level="21.7" data-path="solutions.html"><a href="solutions.html#solution_matrix"><i class="fa fa-check"></i><b>21.7</b> Матрицы</a></li>
<li class="chapter" data-level="21.8" data-path="solutions.html"><a href="solutions.html#solution_list"><i class="fa fa-check"></i><b>21.8</b> Списки</a></li>
<li class="chapter" data-level="21.9" data-path="solutions.html"><a href="solutions.html#solution_df"><i class="fa fa-check"></i><b>21.9</b> Датафрейм</a></li>
<li class="chapter" data-level="21.10" data-path="solutions.html"><a href="solutions.html#solution_if"><i class="fa fa-check"></i><b>21.10</b> Условные конструкции</a></li>
<li class="chapter" data-level="21.11" data-path="solutions.html"><a href="solutions.html#solution_function"><i class="fa fa-check"></i><b>21.11</b> Создание функций</a></li>
<li class="chapter" data-level="21.12" data-path="solutions.html"><a href="solutions.html#solution_sanity"><i class="fa fa-check"></i><b>21.12</b> Проверка на адекватность</a></li>
<li class="chapter" data-level="21.13" data-path="solutions.html"><a href="solutions.html#solution_apply"><i class="fa fa-check"></i><b>21.13</b> Семейство функций apply()</a></li>
<li class="chapter" data-level="21.14" data-path="solutions.html"><a href="solutions.html#solution_pipe"><i class="fa fa-check"></i><b>21.14</b> magrittr::<code>%&gt;%</code></a></li>
<li class="chapter" data-level="21.15" data-path="solutions.html"><a href="solutions.html#solution_select"><i class="fa fa-check"></i><b>21.15</b> Выбор столбцов: <code>dplyr::select()</code></a></li>
<li class="chapter" data-level="21.16" data-path="solutions.html"><a href="solutions.html#solution_filt"><i class="fa fa-check"></i><b>21.16</b> Выбор строк: <code>dplyr::slice()</code> и <code>dplyr::filter()</code></a></li>
<li class="chapter" data-level="21.17" data-path="solutions.html"><a href="solutions.html#solution_arr"><i class="fa fa-check"></i><b>21.17</b> Сортировка строк: <code>dplyr::arrange()</code></a></li>
<li class="chapter" data-level="21.18" data-path="solutions.html"><a href="solutions.html#solution_dist"><i class="fa fa-check"></i><b>21.18</b> Уникальные значения: <code>dplyr::distinct()</code></a></li>
<li class="chapter" data-level="21.19" data-path="solutions.html"><a href="solutions.html#solution_mutate"><i class="fa fa-check"></i><b>21.19</b> Создание колонок: <code>dplyr::mutate()</code> и <code>dplyr::transmute()</code></a></li>
<li class="chapter" data-level="21.20" data-path="solutions.html"><a href="solutions.html#solution_group_by"><i class="fa fa-check"></i><b>21.20</b> Агрегация: <code>dplyr::group_by() %&gt;% summarise()</code></a></li>
<li class="chapter" data-level="21.21" data-path="solutions.html"><a href="solutions.html#соединение-датафреймов-_join-solution_join"><i class="fa fa-check"></i><b>21.21</b> Соединение датафреймов: *_join {#solution_join}</a></li>
<li class="chapter" data-level="21.22" data-path="solutions.html"><a href="solutions.html#solution_join"><i class="fa fa-check"></i><b>21.22</b> Tidy data</a></li>
<li class="chapter" data-level="21.23" data-path="solutions.html"><a href="solutions.html#solution_across"><i class="fa fa-check"></i><b>21.23</b> Операции с несколькими колонками: <code>across()</code></a></li>
<li class="chapter" data-level="21.24" data-path="tasks.html"><a href="tasks.html#desc_tasks"><i class="fa fa-check"></i><b>21.24</b> Описательная статистика</a></li>
<li class="chapter" data-level="21.25" data-path="solutions.html"><a href="solutions.html#ggplot2_solutions"><i class="fa fa-check"></i><b>21.25</b> Построение графиков в <code>ggplot2</code></a></li>
<li class="chapter" data-level="21.26" data-path="solutions.html"><a href="solutions.html#dist_solutions"><i class="fa fa-check"></i><b>21.26</b> Распределения</a></li>
<li class="chapter" data-level="21.27" data-path="solutions.html"><a href="solutions.html#one_ttest_solutions"><i class="fa fa-check"></i><b>21.27</b> Одновыборочный t-test</a></li>
<li class="chapter" data-level="21.28" data-path="solutions.html"><a href="solutions.html#dep_ttest_solutions"><i class="fa fa-check"></i><b>21.28</b> Двухвыборочный зависимый t-test</a></li>
<li class="chapter" data-level="21.29" data-path="solutions.html"><a href="solutions.html#ind_ttest_solutions"><i class="fa fa-check"></i><b>21.29</b> Двухвыборочный независимый t-test</a></li>
<li class="chapter" data-level="21.30" data-path="tasks.html"><a href="tasks.html#nonparam_ttest_tasks"><i class="fa fa-check"></i><b>21.30</b> Непараметрические аналоги t-теста</a></li>
<li class="chapter" data-level="21.31" data-path="solutions.html"><a href="solutions.html#backpack_solutions"><i class="fa fa-check"></i><b>21.31</b> Исследование набора данных Backpack</a></li>
<li class="chapter" data-level="21.32" data-path="solutions.html"><a href="solutions.html#cov_solutions"><i class="fa fa-check"></i><b>21.32</b> Ковариация</a></li>
<li class="chapter" data-level="21.33" data-path="solutions.html"><a href="solutions.html#cor_solutions"><i class="fa fa-check"></i><b>21.33</b> Коэффициент корреляции</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ссылки-на-литературу.html"><a href="ссылки-на-литературу.html"><i class="fa fa-check"></i>Ссылки на литературу</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Анализ данных и статистика в R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vdesc" class="section level1" number="11">
<h1><span class="header-section-number">11</span> Описательная статистика</h1>
<div id="desc_infer" class="section level2" number="11.1">
<h2><span class="header-section-number">11.1</span> Описательная статистика и статистика вывода</h2>
<p>Статистика делится на <strong>описательную статистику</strong> (<em>descriptive statistics</em>) и <strong>статистику вывода</strong> (<em>inferential statistics</em>). Описательная статистика пытается описать нашу <strong>выборку</strong> (<em>sample</em>, т.е. те данные, что у нас на руках) различными способами. Проблема в том, что описательная статистика может описать только то, что у нас есть, но не позволяет сделать выводы о <strong>генеральной совокупности</strong> (<em>population</em>) - это уже цель статистики вывода. Цель описательной статистики - “ужать” данные для их обобщенного понимания с помощью <em>статистик</em>.</p>
<blockquote>
<p>Заметьте, у выборки (<strong>s</strong>ample) мы считаем статистики (<strong>s</strong>tatistics), а у генеральной совокупности (<strong>P</strong>opulation) есть параметры (<strong>P</strong>arameters). Вот такая вот мнемотехника.</p>
</blockquote>
<p>Статистики часто выступают в роли <em>точечной оценки</em> (point estimators) параметров, так что в этом легко запутаться. Например, среднее (в выборке) - это оценка среднего (в генеральной совокупности). Да, можно свихнуться. Мы это будем разбирать подробнее в следующие занятия (это действительно важно, поверьте), пока что остановимся только на описании выборки.</p>
<p><img src="images/sample2.png" width="400" /></p>
</div>
<div id="типы-шкал" class="section level2" number="11.2">
<h2><span class="header-section-number">11.2</span> Типы шкал</h2>
<p>Перед тем, как начать речь об описательных статистиках, нужно разобраться с существующими типами шкал. Типы шкал классифицируются на основании типа измеряемых данных, которые задают допустимые для данной шкалы отношения.</p>
<p><strong>- Шкала наименований (номинальная шкала)</strong> — самая простая шкала, где единственное отношение между элементами — это отношения равенства и неравенства. Это любая качественная шкала, между элементами которой не могут быть установлены отношения “больше — меньше.” Это большинство группирующих переменных (экспериментальная группа, пол, политическая партия, страна), переменные с id. Еще один пример - номера на майках у футболистов.</p>
<p><strong>- Шкала порядка (ранговая шкала)</strong> — шкала следующего уровня, для которой можно установить отношения “больше — меньше,” причем если <em>B</em> больше <em>A</em>, а <em>C</em> больше <em>B</em>, то и <em>C</em> должно быть больше <em>A</em>. Если это верно, то мы можем выстроить последовательность значений. Однако мы еще не можем говорить о разнице между значениями. Ответы на вопросы “Как часто вы курите?” по шкале “Никогда,” “Редко” и “Часто” являются примером ранговой шкалы. “Часто” — это чаще, чем “Редко,” “Редко” — это чаще чем “Никогда,” и, соотвественно, “Часто” — это чаще, чем “Никогда.” Но мы не можем сказать, что разница между “Часто” и “Редко” такая же, как и между “Редко” и “Никогда.” Соответственно, даже если мы обозначим “Часто,” “Редко” и “Никогда” как 3, 2 и 1 соответственно, то многого не можем сделать с этой шкалой, Например, мы не можем посчитать арифметическое среднее для такой шкалы.</p>
<p><strong>- Шкала разностей (интервальная шкала)</strong> — шкала, для которой мы уже можем говорить про разницы между интервалами. Например, разница между 10 Cº и 20 Cº такая же как и между 80 Cº и 90 Cº. Для шкалы разностей уже можно сравнивать средние, но операции умножения и деления не имеют смысл, потому что ноль в шкале разностей относительный. Например, мы не можем сказать, что 20 Cº — это в два раза теплее, чем 10 Cº, потому что 0 Cº — это просто условно взятая точка — температура плавления льда.</p>
<p><strong>- Шкала отношений (абсолютная шкала)</strong> — самая “полноценная” шкала, которая отличается от интервальной наличием естественного и однозначного начала координат. Например, масса в килограммах или та же температура, но в градусах Кельвина, а не Цельсия.</p>
</div>
<div id="cent_tend" class="section level2" number="11.3">
<h2><span class="header-section-number">11.3</span> Меры центральной тенденции</h2>
<p>Для примера мы возьмем массу супергероев, предварительно удалив из нее все <code>NA</code> для удобства.</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="vdesc.html#cb593-1" aria-hidden="true" tabindex="-1"></a>weight <span class="ot">&lt;-</span> heroes <span class="sc">%&gt;%</span></span>
<span id="cb593-2"><a href="vdesc.html#cb593-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(Weight) <span class="sc">%&gt;%</span></span>
<span id="cb593-3"><a href="vdesc.html#cb593-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Weight)</span></code></pre></div>
<p>Мера центральной тенденции - это число для описания <em>центра</em> распределения.</p>
<div id="mean" class="section level3" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> Арифметическое среднее</h3>
<p>Самая распространенная мера центральных тенденций - <strong>арифметическое среднее</strong>, то самое, которые мы считаем с помощью функции <code>mean()</code>.</p>
<p><span class="math display">\[\overline{x}= \frac{\sum\limits_{i=1}^{n} x_{i}} {n}\]</span></p>
<p>Не пугайтесь значка <span class="math display">\[\sum\limits_{i=1}^{n}\]</span> - это означает сумму от i = 1 до n. Что-то вроде цикла <code>for</code>!</p>
<p>В качестве упражнения попробуйте самостоятельно превратить эту формулу в функцию <code>mymean()</code> c помощью <code>sum()</code> и <code>length()</code>. Можете убирать <code>NA</code> по дефолту! Сравните с результатом функции <code>mean()</code>.</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="vdesc.html#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(weight)</span></code></pre></div>
<pre><code>## [1] 112.2525</code></pre>
</div>
<div id="median" class="section level3" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> Медиана</h3>
<p><strong>Медиана</strong> - это <em>середина</em> распределения. Представим, что мы расставили значения по порядку (от меньшего к большему) и взяли значение по середине. Если у нас четное количество значений, то берется среднее значение между теми двумя, что по середине. Для расчета медианы есть функция <code>median()</code>:</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="vdesc.html#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(weight)</span></code></pre></div>
<pre><code>## [1] 81</code></pre>
<p>Разница медианы со средним не очень существенная. Это значит, что распределение довольно “симметричное.” Но бывает и по-другому.</p>
<p>Представьте себе, что кто-то говорит про среднюю зарплату в Москве. Но ведь эта средняя зарплата становится гораздо больше, если учитывать относительно небольшое количество мультимиллионеров и миллиардеров! А вот медианная зарплата будет гораздо меньше.</p>
<p>Представьте себе, что в среде супергероев поялвяется кто-то, кто весит 9000 килограммов! Тогда среднее сильно изменится:</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="vdesc.html#cb598-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(weight, <span class="dv">9000</span>))</span></code></pre></div>
<pre><code>## [1] 130.1714</code></pre>
<p>А вот медиана останется той же.</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="vdesc.html#cb600-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(<span class="fu">c</span>(weight, <span class="dv">9000</span>))</span></code></pre></div>
<pre><code>## [1] 81</code></pre>
<p>Таким образом, экстремально большие или маленькие значения оказывают сильное влияние на арифметическое среднее, но не на медиану. Поэтому медиана считается более “робастной” оценкой, т.е. более устойчивой к выбросам и крайним значениям.</p>
</div>
<div id="trim" class="section level3" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> Усеченное среднее (trimmed mean)</h3>
<p>Если про среднее и медиану слышали все, то про усеченное (тримленное) среднее известно гораздо меньше. Тем не менее, на практике это довольно удобная штука, потому что представляет собой некий компромисс между арифметическим средним и медианой.</p>
<p>В усеченном среднем значения ранжируются так же, как и для медианы, но отбрасывается только какой-то процент крайних значений. Усеченное среднее можно посчитать с помощью обычной функции <code>mean()</code>, поставив нужное значение параметра <code>trim =</code>:</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="vdesc.html#cb602-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(weight, <span class="at">trim =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>## [1] 89.56423</code></pre>
<p><code>trim = 0.1</code> означает, что мы отбросили 10% слева и 10% справа. <code>trim</code> может принимать значения от 0 до 0.5. Что будет, если <code>trim = 0</code>?</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="vdesc.html#cb604-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(weight, <span class="at">trim =</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] 112.2525</code></pre>
<p>Обычное арифметическое среднее! А если <code>trim = 0.5</code>?</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="vdesc.html#cb606-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(weight, <span class="at">trim =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<pre><code>## [1] 81</code></pre>
<p>Медиана!</p>
</div>
<div id="mode" class="section level3" number="11.3.4">
<h3><span class="header-section-number">11.3.4</span> Мода</h3>
<p><strong>Мода</strong> <em>(mode)</em> - это самое <em>частое</em> значение. Обычно используется для номинальных переменных, для континуальных данных мода неприменима. Что интересно, в R нет встроенной функции для подсчета моды. Обычно она и не нужна: мы можем посчитать таблицу частот и даже проранжировать ее (и мы уже умеем это делать разными способами).</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="vdesc.html#cb608-1" aria-hidden="true" tabindex="-1"></a>heroes <span class="sc">%&gt;%</span></span>
<span id="cb608-2"><a href="vdesc.html#cb608-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Gender, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Male","2":"505"},{"1":"Female","2":"200"},{"1":"NA","2":"29"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<blockquote>
<p>Можете попробовать написать свою функцию для моды!</p>
</blockquote>
</div>
</div>
<div id="vary" class="section level2" number="11.4">
<h2><span class="header-section-number">11.4</span> Меры рассеяния</h2>
<blockquote>
<p>Начинающий статистик пытался перейти в брод реку, средняя глубина которой 1 метр. И утонул.<br />
В чем была его ошибка? Он не учитывал разброс значений глубины!</p>
</blockquote>
<p>Мер центральной тенденции недостаточно, чтобы описать выборку. Необходимо знать ее вариабельность.<br />
### Размах {range}</p>
<p>Самое очевидное - посчитать <strong>размах</strong> <em>(range)</em>, то есть разницу между минимальным и максимальным значением. В R есть функция для вывода максимального и минимального значений:</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="vdesc.html#cb609-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(weight)</span></code></pre></div>
<pre><code>## [1]   2 900</code></pre>
<p>Осталось посчитать разницу между ними:</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="vdesc.html#cb611-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(<span class="fu">range</span>(weight))</span></code></pre></div>
<pre><code>## [1] 898</code></pre>
<p>Естественно, крайние значения очень сильно влияют на этот размах, поэтому на практике он не очень-то используется.</p>
<div id="var" class="section level3" number="11.4.1">
<h3><span class="header-section-number">11.4.1</span> Дисперсия</h3>
<p><strong>Дисперсия</strong> <em>(variance)</em> вычисляется по следующей формуле:</p>
<p><span class="math display">\[s^2= \frac{\sum\limits_{i=1}^{n} (x_{i} - \overline{x})^2} {n}\]</span></p>
<p>Попробуйте превратить это в функцию <code>myvar()</code>!</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="vdesc.html#cb613-1" aria-hidden="true" tabindex="-1"></a>myvar <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">mean</span>((x <span class="sc">-</span> <span class="fu">mean</span>(x))<span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<p>Естественно, в R уже есть готовая функция <code>var()</code>. Но, заметьте, ее результат немного отличается от нашего:</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb614-1"><a href="vdesc.html#cb614-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myvar</span>(weight)</span></code></pre></div>
<pre><code>## [1] 10825.55</code></pre>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="vdesc.html#cb616-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(weight)</span></code></pre></div>
<pre><code>## [1] 10847.46</code></pre>
<p>Дело в том, что встроенная функция <code>var()</code> делит не на <span class="math inline">\(n\)</span>, а на <span class="math inline">\(n-1\)</span>. Это связано с тем, что эта функция пытается оценить дисперсию в генеральной совокупности, т.е. относится уже к статистике вывода. Про это мы будем говорить в дальнейших занятиях, сейчас нам нужно только отметить то, что здесь есть небольшое различие.</p>
</div>
<div id="sd" class="section level3" number="11.4.2">
<h3><span class="header-section-number">11.4.2</span> Стандартное отклонение</h3>
<p>Если вы заметили, значение дисперсии очень большое. Чтобы вернуться к единицам измерения, соответствующих нашим данным используется корень из дисперсии, то есть <strong>стандартное отклонение</strong> <em>(standard deviation)</em>:</p>
<p><span class="math display">\[s= \sqrt\frac{\sum\limits_{i=1}^{n} (x_{i} - \overline{x})^2} {n}\]</span></p>
<p>Для этого есть функция <code>sd()</code>:</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="vdesc.html#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(weight)</span></code></pre></div>
<pre><code>## [1] 104.1511</code></pre>
<p>Что то же самое, что и:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="vdesc.html#cb620-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">var</span>(weight))</span></code></pre></div>
<pre><code>## [1] 104.1511</code></pre>
</div>
<div id="mad" class="section level3" number="11.4.3">
<h3><span class="header-section-number">11.4.3</span> Медианное абсолютное отклонение</h3>
<p>Поскольку стандартное отклонение не устойчиво к выбросам, то иногда используют его альтернативу, которая устойчива к выбросам (особенно если эти выбросы нам как раз и нужно удалить) - медианное абсолютное отклонение (median absolute deviation):</p>
<p><span class="math display">\[mad= median(|x_{i} - median(x)|)\]</span></p>
<p>Для этого есть функция <code>mad()</code>:</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="vdesc.html#cb622-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mad</span>(weight)</span></code></pre></div>
<pre><code>## [1] 32.6172</code></pre>
</div>
<div id="iqr" class="section level3" number="11.4.4">
<h3><span class="header-section-number">11.4.4</span> Межквартильный размах</h3>
<p>Другой вариант рабостной оценки вариабельности данных является <strong>межквартильный размах</strong> <em>(interquartile range, IQR)</em>. Это разница между третьим и первым <strong>квартилем</strong><a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a> - значением, которое больше 75% значений в выборке, и значением, которое больше 25% значений в выборке.</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb624-1"><a href="vdesc.html#cb624-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(weight)</span></code></pre></div>
<pre><code>## [1] 47</code></pre>
<blockquote>
<p>Ну а второй квартиль - это медиана!</p>
</blockquote>
</div>
</div>
<div id="skku" class="section level2" number="11.5">
<h2><span class="header-section-number">11.5</span> Ассиметрия и эксцесс</h2>
<div id="skew" class="section level3" number="11.5.1">
<h3><span class="header-section-number">11.5.1</span> Ассиметрия</h3>
<p><strong>Ассиметрия (skewness)</strong> измеряет симметричность распределения. Положительный показатель ассиметрии (“Right-skewed” или positive skewness) означает, что хвосты с правой части распределения длиннее. Негативный показатель ассиметрии (“Left-skewed” или negative skewness) означает, что левый хвост длиннее.</p>
<p><img src="images/7180OS_01_180.jpg" width="400" /></p>
<blockquote>
<p>Например, в психологии положительная ассиметрия встречается очень часто. Например, время реакции: оно ограничено снизу 0 мс (а по факту не меньше 100 мс - быстрее сигнал не успеет по нервной системе пройти до пальцев), а вот с другой стороны оно никак не ограничено. Испытуемый может на полчаса перед монитором затупить, ага.</p>
</blockquote>
</div>
<div id="kurtosis" class="section level3" number="11.5.2">
<h3><span class="header-section-number">11.5.2</span> Эксцесс</h3>
<p><strong>Эксцесс (kurtosis)</strong> - это мера “вытянутости” распределения:</p>
<p><img src="images/kurtosis.gif" /></p>
<p>Положительные показатели эксцесса означают “вытянутое” распределение, а отрицательные - “плоское.”</p>
</div>
<div id="skewR" class="section level3" number="11.5.3">
<h3><span class="header-section-number">11.5.3</span> Ассиметрия и эксцесс в R</h3>
<p>К сожалению, в базовом R нет функций для ассиметрии и эксцесса. Зато есть замечательный пакет <code>psych</code> (да-да, специально для психологов).</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="vdesc.html#cb626-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;psych&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="vdesc.html#cb627-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;psych&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Присоединяю пакет: &#39;psych&#39;</code></pre>
<pre><code>## Следующие объекты скрыты от &#39;package:ggplot2&#39;:
## 
##     %+%, alpha</code></pre>
<p>В нем есть функции <code>skew()</code> и <code>kurtosi()</code>:</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb630-1"><a href="vdesc.html#cb630-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skew</span>(weight)</span></code></pre></div>
<pre><code>## [1] 3.874557</code></pre>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb632-1"><a href="vdesc.html#cb632-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kurtosi</span>(weight)</span></code></pre></div>
<pre><code>## [1] 19.45699</code></pre>
<p>Ассиметрия положительная, это значит что распределение выборки асимметричное, хвосты с правой части длиннее. Эксцесс значительно выше нуля - значит распределение довольно “вытянутое.”</p>
</div>
</div>
<div id="quantiles" class="section level2" number="11.6">
<h2><span class="header-section-number">11.6</span> Квантили</h2>
<p>В жизни мы постоянно проходим какие-нибудь тесты, получаем баллы и рано или поздно встает вопрос: ну а как оно у других? Как бы нас ни учили книжки по саморазвитию, что не стоит сравнивать себя с другими, от этого вопроса очень сложно избавиться. А иногда и вовсе не нужно.</p>
<p>Допустим, вы проходите профессиональный тест с задачами одинаковой сложности. Как понять, если вы решили 10 из 20 задач (допустим, что задачи одинаковой сложности), то это много или мало? Мы договорились, что задачи одинаковой сложности, но не сказали какой. Если все 20 задач очень легкие, то 10 – это мало, а если сложные – то много. В этой ситуации может быть важен относительный успех: сколько людей справились с тестом хуже вас, а сколько - лучше вас. Вот это и позволяют посчитать <strong>процентили</strong> (<em>percentile rank</em>) – процент значений в распределении ниже заданного значения. То есть 90ый процентиль означает, что вы справились лучше, чем 90% людей, который прошли тот же тест. То есть вы находитесь в 10% самых-самых! Поэтому настоящие понторезы должны меряться не абсолютными значениями, а процентилями.</p>
<p>Здесь сразу нужно оговориться, что понятие процентиля имеет несколько неоднозначностей. В английском принято разделять <em>percentile</em> и <em>percentile rank</em>. <em>Percentile rank</em> – это процент значений в распределении ниже заданного, то просто <em>percentile</em> – это само значение, ниже которого находится соответствующий процент значений. А иногда и вовсе процентилем называют сам интервал между процентильными границами. Все эти понятия взаимосвязаны, поэтому о том, в каком именно значении используется понятие “процентиль” можно догадаться из контекста. Другая неоднозначность понятия процентиля связана с тем, в какой процентиль относить пограничные значения. Эта проблема породила целых девять различных подходов к расчету процентилей! Однако если шкала континуальная и имеет достаточно много значений, то разницы между этими подходами не будет.</p>
<p>Можно делить значения не на 100 интервалов, а на меньшее количество. Например, на 4. Для этого нам нужно три точки: одна отделяет 25% наименьших значений, вторая отделяет нижнее 50% от верхних 50% (то есть это медиана!), третья – верхние 25% отнижних 75%. Эти точки и интервалы, разделяемые ими, называются <strong>квартилями</strong>.</p>
<p>Кроме процентилей и квартилей есть еще <strong>децили</strong>, <strong>квинтили</strong>, <strong>секстили</strong>, <strong>септили</strong> и что угодно <strong>-тили</strong>, хотя и используются они гораздо реже. Общее название для всех них – <strong>квантили</strong>.</p>
</div>
<div id="summary" class="section level2" number="11.7">
<h2><span class="header-section-number">11.7</span> А теперь все вместе!</h2>
<p>В базовом R есть функция <code>summary()</code>, которая позволяет получить сразу неплохой набор описательных статистик.</p>
<div class="sourceCode" id="cb634"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb634-1"><a href="vdesc.html#cb634-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(weight)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     2.0    61.0    81.0   112.3   108.0   900.0</code></pre>
<blockquote>
<p>Функция <code>summary()</code> - это универсальная (generic) функция. Это означает, что Вы можете ее применять для разных объектов и получать разные результаты. Попробуйте применить ее к векторам с разными типами данных и даже к дата.фреймам и дата.тейблам. Посмотрите, что получится.</p>
</blockquote>
<p>В пакете <code>psych</code> есть еще и замечательная функция <code>describe()</code>, которая даст Вам еще больше статистик, включая ассиметрию и куртозис:</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="vdesc.html#cb636-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(weight)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["vars"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["trimmed"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mad"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["min"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["range"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["skew"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["kurtosis"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"495","3":"112.2525","4":"104.1511","5":"81","6":"89.56423","7":"32.6172","8":"2","9":"900","10":"898","11":"3.874557","12":"19.45699","13":"4.681246","_rn_":"X1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Даже усеченное (trimmed) среднее есть (с <code>trim = 0.1</code>)! Все кроме <code>se</code> мы уже знаем. А про этот <code>se</code> узнаем немного позже.</p>
<p>Эта функция хорошо работает в сочетании с <code>group_by()</code>:</p>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="vdesc.html#cb637-1" aria-hidden="true" tabindex="-1"></a>heroes <span class="sc">%&gt;%</span></span>
<span id="cb637-2"><a href="vdesc.html#cb637-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb637-3"><a href="vdesc.html#cb637-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">describe</span>(Weight))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["vars"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["n"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["trimmed"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["mad"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["min"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["range"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["skew"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["kurtosis"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[14],"type":["dbl"],"align":["right"]}],"data":[{"1":"Female","2":"1","3":"142","4":"78.83803","5":"76.97588","6":"58","7":"60.92105","8":"7.4130","9":"41","10":"630","11":"589","12":"4.970618","13":"27.2267755","14":"6.459672","_rn_":"1"},{"1":"Male","2":"1","3":"339","4":"125.57227","5":"110.82182","6":"90","7":"102.75092","8":"23.7216","9":"2","10":"900","11":"898","12":"3.756117","13":"18.2897971","14":"6.019015","_rn_":"2"},{"1":"NA","2":"1","3":"14","4":"128.64286","5":"107.27005","6":"94","7":"114.91667","8":"42.9954","9":"39","10":"383","11":"344","12":"1.548571","13":"0.8858087","14":"28.669126","_rn_":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Другой интересный пакет для получения описательных статистик для всего датафрейма — <code>skimr</code>.</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb638-1"><a href="vdesc.html#cb638-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;skimr&quot;</span>)</span></code></pre></div>
<p>Его основная функция — <code>skim()</code>, выводит симпатичную сводную таблицу для датафрейма.</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="vdesc.html#cb639-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(heroes)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-303">Таблица 11.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">heroes</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">734</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">11</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">8</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1</td>
<td align="right">25</td>
<td align="right">0</td>
<td align="right">715</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Gender</td>
<td align="right">29</td>
<td align="right">0.96</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Eye color</td>
<td align="right">172</td>
<td align="right">0.77</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">22</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="right">304</td>
<td align="right">0.59</td>
<td align="right">5</td>
<td align="right">18</td>
<td align="right">0</td>
<td align="right">61</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Hair color</td>
<td align="right">172</td>
<td align="right">0.77</td>
<td align="right">3</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">29</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Publisher</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0</td>
<td align="right">17</td>
<td align="right">15</td>
<td align="right">25</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Skin color</td>
<td align="right">662</td>
<td align="right">0.10</td>
<td align="right">3</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Alignment</td>
<td align="right">7</td>
<td align="right">0.99</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">X1</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">366.50</td>
<td align="right">212.03</td>
<td align="right">0.0</td>
<td align="right">183.25</td>
<td align="right">366.5</td>
<td align="right">549.75</td>
<td align="right">733</td>
<td align="left">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td align="left">Height</td>
<td align="right">217</td>
<td align="right">0.70</td>
<td align="right">186.73</td>
<td align="right">59.25</td>
<td align="right">15.2</td>
<td align="right">173.00</td>
<td align="right">183.0</td>
<td align="right">191.00</td>
<td align="right">975</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">Weight</td>
<td align="right">239</td>
<td align="right">0.67</td>
<td align="right">112.25</td>
<td align="right">104.15</td>
<td align="right">2.0</td>
<td align="right">61.00</td>
<td align="right">81.0</td>
<td align="right">108.00</td>
<td align="right">900</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
<p>Здесь количество и доля пропущенных значений, среднее, стандартное отклонение, минимальное и максимальное значение (<em>p0</em> и <em>p100</em> соответственно), квартили. Ну и вишенкой на торте выступает маленькая гистограмма для каждой колонки!</p>
<p>Кроме того, <code>skimr</code> адаптирован под tidyverse. В нем можно выбирать колонки с помощью tidyselect (<a href="tidy-intro.html#tidyselect">9.5.2</a>) прямо внутри функции <code>skim()</code>.</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb640-1"><a href="vdesc.html#cb640-1" aria-hidden="true" tabindex="-1"></a>heroes <span class="sc">%&gt;%</span></span>
<span id="cb640-2"><a href="vdesc.html#cb640-2" aria-hidden="true" tabindex="-1"></a>  skimr<span class="sc">::</span><span class="fu">skim</span>(<span class="fu">ends_with</span>(<span class="st">&quot;color&quot;</span>))</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-304">Таблица 11.2: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">734</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">11</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Eye color</td>
<td align="right">172</td>
<td align="right">0.77</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">22</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Hair color</td>
<td align="right">172</td>
<td align="right">0.77</td>
<td align="right">3</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">29</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Skin color</td>
<td align="right">662</td>
<td align="right">0.10</td>
<td align="right">3</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>А еще можно сочетать с группировкой с помощью <code>group_by()</code>.</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="vdesc.html#cb641-1" aria-hidden="true" tabindex="-1"></a>heroes <span class="sc">%&gt;%</span></span>
<span id="cb641-2"><a href="vdesc.html#cb641-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">%&gt;%</span></span>
<span id="cb641-3"><a href="vdesc.html#cb641-3" aria-hidden="true" tabindex="-1"></a>  skimr<span class="sc">::</span><span class="fu">skim</span>(<span class="fu">ends_with</span>(<span class="st">&quot;color&quot;</span>))</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-305">Таблица 11.3: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">734</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">11</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">Gender</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="left">Gender</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Eye color</td>
<td align="left">Female</td>
<td align="right">41</td>
<td align="right">0.80</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">14</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Eye color</td>
<td align="left">Male</td>
<td align="right">121</td>
<td align="right">0.76</td>
<td align="right">3</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">18</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Eye color</td>
<td align="left">NA</td>
<td align="right">10</td>
<td align="right">0.66</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Hair color</td>
<td align="left">Female</td>
<td align="right">38</td>
<td align="right">0.81</td>
<td align="right">3</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">18</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Hair color</td>
<td align="left">Male</td>
<td align="right">123</td>
<td align="right">0.76</td>
<td align="right">3</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">23</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Hair color</td>
<td align="left">NA</td>
<td align="right">11</td>
<td align="right">0.62</td>
<td align="right">4</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">10</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Skin color</td>
<td align="left">Female</td>
<td align="right">186</td>
<td align="right">0.07</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">7</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Skin color</td>
<td align="left">Male</td>
<td align="right">449</td>
<td align="right">0.11</td>
<td align="right">3</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">14</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Skin color</td>
<td align="left">NA</td>
<td align="right">27</td>
<td align="right">0.07</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>###Описательных статистик недостаточно {#datasaurus}</p>
<p>Я в тайне от Вас загрузил данные в переменную <code>xxx</code> (можете найти этот набор данных <a href="https://raw.githubusercontent.com/Pozdniakov/stats/master/data/d.csv">здесь</a>, если интересно). Выглядят они примерно так:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="vdesc.html#cb642-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(xxx)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["x"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["y"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"55.3846","2":"97.1795"},{"1":"51.5385","2":"96.0256"},{"1":"46.1538","2":"94.4872"},{"1":"42.8205","2":"91.4103"},{"1":"40.7692","2":"88.3333"},{"1":"38.7179","2":"84.8718"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb643-1"><a href="vdesc.html#cb643-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(xxx)</span></code></pre></div>
<pre><code>## spec_tbl_df [142 × 2] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ x: num [1:142] 55.4 51.5 46.2 42.8 40.8 ...
##  $ y: num [1:142] 97.2 96 94.5 91.4 88.3 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   x = col_double(),
##   ..   y = col_double()
##   .. )</code></pre>
<p>Надеюсь, Вы уже понимаете, как это интерпретировать - два столбца с 142 числами каждый. Представьте себе, как выглядят эти точки на плоскости, если каждая строчка означают координаты одной точки по осям <em>x</em> и <em>y</em> (это называется диаграмма рассеяния, точечная диаграмма или scatterplot).</p>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-308-1.png" width="672" /></p>
<p>Применим разные функции, которые мы выучили:</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="vdesc.html#cb645-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(xxx<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 54.26327</code></pre>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="vdesc.html#cb647-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(xxx<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>## [1] 47.83225</code></pre>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="vdesc.html#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(xxx<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 53.3333</code></pre>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="vdesc.html#cb651-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(xxx<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>## [1] 46.0256</code></pre>
<p>Средние и медианы примерно одинаковые, при этом по <em>х</em> они около 53-54, а по <em>у</em> - примерно 46-47. Попытайтесь представить это. Идем дальше:</p>
<div class="sourceCode" id="cb653"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb653-1"><a href="vdesc.html#cb653-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(xxx<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 16.76514</code></pre>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb655-1"><a href="vdesc.html#cb655-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(xxx<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>## [1] 26.9354</code></pre>
<p>Похоже, разброс по <em>у</em> несколько больше, верно?</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb657-1"><a href="vdesc.html#cb657-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skew</span>(xxx<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 0.2807568</code></pre>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb659-1"><a href="vdesc.html#cb659-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skew</span>(xxx<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>## [1] 0.2472603</code></pre>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb661-1"><a href="vdesc.html#cb661-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kurtosi</span>(xxx<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] -0.2854912</code></pre>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb663-1"><a href="vdesc.html#cb663-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kurtosi</span>(xxx<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>## [1] -1.063552</code></pre>
<p>Похоже, оба распределения немного право-ассиметричны и довольно “плоские.”</p>
<p>Давайте еще посчитаем <strong>коэффициент корреляции (correlation coefficient)</strong>. Мы про него будем говорить позже гораздо подробнее. Пока что нам нужно знать, что она говорит о линейной связи двух переменных. Если коэффициент корреляции <em>положительный</em> (максимум равен <code>1</code>), то чем <em>больше</em> х, тем <em>больше</em> у. Если <em>отрицательный</em> (минимум равен <code>-1</code>), то чем <em>больше</em> х, тем <em>меньше</em> у. Если же коэффициент корреляции равна нулю, то такая линейная зависимость отсутствует.</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb665-1"><a href="vdesc.html#cb665-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(xxx<span class="sc">$</span>x, xxx<span class="sc">$</span>y)</span></code></pre></div>
<pre><code>## [1] -0.06447185</code></pre>
<p>Коэффициент корреляции очень близка к нулю (делайте выводы и представляйте).</p>
<p>Давайте напоследок воспользуемся функцией <code>describe()</code> из <code>psych</code>:</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb667-1"><a href="vdesc.html#cb667-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(xxx)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["vars"],"name":[1],"type":["int"],"align":["right"]},{"label":["n"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["mean"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["sd"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["median"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["trimmed"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["mad"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["min"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["max"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["range"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["skew"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["kurtosis"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["se"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"142","3":"54.26327","4":"16.76514","5":"53.3333","6":"53.68646","7":"15.96656","8":"22.3077","9":"98.2051","10":"75.8974","11":"0.2807568","12":"-0.2854912","13":"1.406899","_rn_":"x"},{"1":"2","2":"142","3":"47.83225","4":"26.93540","5":"46.0256","6":"46.90284","7":"30.79242","8":"2.9487","9":"99.4872","10":"96.5385","11":"0.2472603","12":"-1.0635521","13":"2.260369","_rn_":"y"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb668"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb668-1"><a href="vdesc.html#cb668-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(xxx)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-314">Таблица 11.4: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">xxx</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">142</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">2</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">x</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">54.26</td>
<td align="right">16.77</td>
<td align="right">22.31</td>
<td align="right">44.10</td>
<td align="right">53.33</td>
<td align="right">64.74</td>
<td align="right">98.21</td>
<td align="left">▅▇▇▅▂</td>
</tr>
<tr class="even">
<td align="left">y</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">47.83</td>
<td align="right">26.94</td>
<td align="right">2.95</td>
<td align="right">25.29</td>
<td align="right">46.03</td>
<td align="right">68.53</td>
<td align="right">99.49</td>
<td align="left">▇▇▇▅▆</td>
</tr>
</tbody>
</table>
<p>Готовы узнать, как выглядят эти данные на самом деле?!</p>
<details>
<summary>
Жмите сюда если готовы!
</summary>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-315-1.png" width="672" /></p>
</details>
<p>Из этого можно сделать важный вывод: не стоит слепо доверять описательным статистикам. Нужно визуализировать данные, иначе можно попасть в такую ситуацию в реальности. По словам знаменитого статитстика Джона Тьюки, величайшая ценность картинки в том, что она заставляет нас заметить то, что мы не ожидали заметить. Поэтому графики — это не просто метод коммуникации — представления ваших результатов сообществу в понятном виде (хотя и это, конечно, тоже), но и сам по себе очень важный метод анализа данных.</p>
<p>#Визуализация в R {#r_vis}
## Базовые функции для графики {#base_vis}</p>
<p>В R есть достаточно мощный встроенный инструмент для визуализации. Я приведу три простых примера. Во-первых, это та самая диаграмма рассеяния. Здесь все просто: функция <code>plot()</code>, вектора <code>x</code> и <code>у</code>, дополнительные параметры для цвета, размера, формы точек.</p>
<p>Для примера возьмем датасет <code>heroes</code> с <code>Height</code> по оси <em>x</em> и <code>Weight</code> по оси <em>y</em>.</p>
<div class="sourceCode" id="cb669"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb669-1"><a href="vdesc.html#cb669-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(heroes<span class="sc">$</span>Height, heroes<span class="sc">$</span>Weight)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-316-1.png" width="672" /></p>
<blockquote>
<p>Между прочим, функция <code>plot()</code> - это тоже универсальная (generic) функция, как и <code>summary()</code>. В качестве аргумента можете ей скормить просто один вектор, матрицу, датафрейм. Более того, многие пакеты добавляют новые методы plot() для новых объектов из этих пакетов.</p>
</blockquote>
<p>Другая распространенная функция — <code>hist()</code> — <strong>гистограмма (histogram)</strong>:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb670-1"><a href="vdesc.html#cb670-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(weight)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-317-1.png" width="672" /></p>
<p>Ну и закончим на суперзвезде прошлого века под названием <strong>ящик с усами (boxplot with whiskers)</strong>:</p>
<div class="sourceCode" id="cb671"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb671-1"><a href="vdesc.html#cb671-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(Weight <span class="sc">~</span> Gender, heroes)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-318-1.png" width="672" /></p>
<p>Здесь мы использовали уже знакомый нам класс формул. Они еще будут нам встречаться дальше, обычно они используются следующим образом: слева от <code>~</code> находится зависимая переменная, а справа - “предикторы.” Эта интуиция работает и здесь: мы хотим посмотреть, как различается вес в зависимости от пола.</p>
</div>
<div id="grammar_of_graphics" class="section level2" number="11.8">
<h2><span class="header-section-number">11.8</span> История грамматики графики</h2>
<p>Встроенные возможности для визуализации в R довольно обширны, но дополнительные пакеты значительно ее расширяют. Среди этих пакетов, есть один, который занимает совершенно особенное место – <code>ggplot2</code>.</p>
<p><code>ggplot2</code> — это не просто пакет, который рисует красивые графики. Красивые графики можно рисовать и в базовом R. Чтобы понять, почему пакет <code>ggplot2</code> занимает особенное место среди пакетов для визуализации (и не только среди пакетов для R, а вообще!), нужно расшифровать <code>gg</code> в его названии. <code>gg</code> означает грамматику графики (Grammar of Graphics), язык для описания графиков, изложенный в одноименной книге Леланда Уилкинсона <span class="citation">(<a href="ссылки-на-литературу.html#ref-gg" role="doc-biblioref">Wilkinson 2005</a>)</span>.</p>
<p>Грамматика графики позволяет описывать графики не в терминах типологии (вот есть пайчарт, есть барплот, есть гистограмма, а есть ящик с усами), а с помощью специального разработанного языка. Этот язык позволяет с помощью грамматики и небольшого количества “слов” языка описывать и создавать практически любые графики и даже придумывать новые! Это дает огромную свободу в создании именно той визуализации, что необходима для текущей задачи.</p>
<p>Хэдли Уикхэм (да, снова он) немного дополнил идею грамматики графики в статье “A Layered grammar of graphics” <span class="citation">(<a href="ссылки-на-литературу.html#ref-layered-grammar" role="doc-biblioref">Wickham 2010</a>)</span>, которую сопроводил пакетом <code>ggplot2</code> с реализацией идей Уилкинсона и своих.</p>
</div>
<div id="gg_base" class="section level2" number="11.9">
<h2><span class="header-section-number">11.9</span> Основы грамматики графики</h2>
<p>Каждый график состоит из одного или нескольких <strong>слоев (layers)</strong>. Если слоев несколько, то они располагаются один над другим, при этом верхние слои “перекрывают” нижние, примерно как это происходит в программах вроде Adobe Photoshop. У каждого слоя есть три обязательных элемента: <strong>данные (data)</strong>, <strong>геом (geom)</strong>, <strong>эстетики (aestetics)</strong>; и два вспомогательных: <strong>статистические трансформации (stat).</strong> и <strong>регулировка положения (position adjustment).</strong></p>
<p><img src="images/ggplot_scheme.png" width="400" /></p>
<ul>
<li><p><strong>Данные (data).</strong> Собственно, сами данные в виде датафрейма, используемые в данном слое.</p></li>
<li><p><strong>Геом (geom).</strong> Геом — это сокращение от “геометрический объект.” Собственно, в какой геометрический объект мы собираемся превращать данные. Например, в точки, прямоугольники или линии.</p></li>
<li><p><strong>Отображение (mapping).</strong> Эстетические отображения или просто <strong>эстетики (aestetics)</strong> — это набор правил, как различные переменные превращаются в визуальные особенности геометрии. Без эстетик остается непонятно, какие именно колонки в используемом датафрейме превращаются в различные особенности геомов: позицию, размер, цвет и т.д. У каждой геометрии свой набор эстетик, но многие из них совпадают у разных геомов, например, <em>x</em>, <em>y</em>, <em>colour</em>, <em>fill</em>, <em>size</em>. Без некоторых эстетик геом не будет работать. Например, геометрия в виде точек не будет работать без двух координат этих точек (<em>x</em> и <em>y</em>). Другие эстетики необязательны и имеют значения по умолчанию. Например, по умолчанию точки будут черными, но можно сделать их цвет зависимым от выбранной колонки в датафрейме с помощью эстетики <em>colour</em>.</p></li>
<li><p><strong>Статистические трансформации (stat).</strong> Название используемой статистической трансформации (или просто — статистики). Да, статистические трансформации можно делать прямо внутри <code>ggplot2</code>! Это дает дополнительную свободу в выборе инструментов, потому что обычно те же статистические трансформации можно сделать вне <code>ggplot2</code> в процессе препроцессинга. Формально, статистические трансформации — это обязательный элемент геома, но если вы не хотите преобразовывать данные, то можете выбрать “identity” преобразование, которое оставляет все как есть. В <code>ggplot2</code> у каждого геома есть статистика по умолчанию, а у каждой статистики - свой геом по умолчанию. И не всегда статистика по умолчанию — это “identity” статистика. Например, для барплота (<code>geom_barplot()</code>) используется статистика “count,”<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a> которая считает частоты, ведь именно частоты затем трансформируются в высоту барплотов.</p></li>
</ul>
<ul>
<li><strong>Регулировка положения (position adjustment).</strong> Регуляровка положения — это небольшое улучшение позиции геометрий для части элементов. Например, можно добавить немного случайного шума (“jitter”) в позицию точек, чтобы они не перекрывали друг друга. Или “раздвинуть” (“dodge”) два барплота, чтобы один не загораживал другой. Как и в случае со статистическими трансформациями, в большинстве случаев значение по умолчанию — “identity.”</li>
</ul>
<p>Кроме слоев, у графика есть:</p>
<ul>
<li><strong>Координатная система (coord).</strong> Если мы задали координаты, то нам нужно задать и координатную плоскость, верно? Конечно, в большинстве случаев используется <em>декартова система координат (Cartesian coordinate system)</em>,<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a> т.е. стандартная прямоугольная система координат, но можно использовать и другие, например, полярную систему координат или картографическую проекцию.</li>
</ul>
<ul>
<li><p><strong>Шкалы (scales).</strong> Шкалы задают то, <em>как именно</em> значения превращаются в эстетики. Например, если мы задали, что разные значения в колонке будут влиять на цвет точки, то какая именно палитра будет использоваться? В какие конкретно цвета будут превращаться числовые, логические или строковые значения в колонке? В <code>ggplot2</code> есть правила по умолчанию для всех эстестик, и они отличные, но самостоятельная настройка шкал может значительно улучшить график.</p></li>
<li><p><strong>Фасетки (facets).</strong> Фасетки — это одно из нововведений Уикхэма в грамматику графики. Фасетки повзоляют разбить график на множество похожих, задав переменную, по которой график будет разделен. Это очень напоминает использование группировки с помощью <code>group_by()</code>.</p></li>
<li><p><strong>Тема (theme).</strong> Тема — это зрительное оформление “подложки” графика, не относящийся к содержанию графика: размер шрифта, цвет фона, размер и цвет линий на фоне и т.д. и т.п. В <code>ggplot2</code> есть несколько встроенных тем, а также есть множество пакетов, которые добавляют дополнительные темы. Кроме того, их можно настраивать самостоятельно!</p></li>
<li><p><strong>Значения по умолчанию (defaults).</strong> Если в графике используется несколько слоев, то часто все они используют одни и те же данные и эстетики. Можно задать данные и эстетики по умолчанию для всего графика, чтобы не повторять код.</p></li>
</ul>
</div>
<div id="gg_0" class="section level2" number="11.10">
<h2><span class="header-section-number">11.10</span> Пример №0: пайчарт с распределение по полу</h2>
<p>Сейчас мы попробуем сделать простой пример в <code>ggplot2</code>, похожий на пример, который использует в своей книге Леланд Уилкинсон, чтобы показать мощь грамматики графики <span class="citation">(<a href="ссылки-на-литературу.html#ref-gg" role="doc-biblioref">Wilkinson 2005</a>)</span>. Приготовьтесь, этот пример перевернет ваши представления о графиках!</p>
<p>Но сначала взглянем на структуру кода в <code>ggplot()</code>.</p>
<p><img src="images/ggplot_code.png" width="400" /></p>
<p>Как видно, код чем-то напоминает стандартный код tidyverse, но с <code>+</code> вместо пайпов. Когда был написан <code>ggplot2</code>, Хэдли Уикхэм еще не знал про <code>%&gt;%</code> из <code>magrittr</code>, хотя по смыслу <code>+</code> означает примерно то же самое.</p>
<div class="sourceCode" id="cb672"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb672-1"><a href="vdesc.html#cb672-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb672-2"><a href="vdesc.html#cb672-2" aria-hidden="true" tabindex="-1"></a>heroes <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/heroes_information.csv&quot;</span>,</span>
<span id="cb672-3"><a href="vdesc.html#cb672-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">na =</span> <span class="fu">c</span>(<span class="st">&quot;-&quot;</span>, <span class="st">&quot;-99&quot;</span>))</span></code></pre></div>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   X1 = col_double(),
##   name = col_character(),
##   Gender = col_character(),
##   `Eye color` = col_character(),
##   Race = col_character(),
##   `Hair color` = col_character(),
##   Height = col_double(),
##   Publisher = col_character(),
##   `Skin color` = col_character(),
##   Alignment = col_character(),
##   Weight = col_double()
## )</code></pre>
<p>Итак, запустим функцию <code>ggplot()</code>, задав наш тиббл <code>heroes</code> в качестве данных.</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb675-1"><a href="vdesc.html#cb675-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> heroes)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-320-1.png" width="672" /></p>
<p>Мы ничего не получили! Это естественно, ведь мы задали только данные по умолчанию, но не задали геометрию и эстетики.</p>
<p>Функция <code>ggplot()</code> не просто отрисовывает график, эта функция создает объект класса <code>ggplot</code>, который можно сохранить и модифицировать в дальнейшем:</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb676-1"><a href="vdesc.html#cb676-1" aria-hidden="true" tabindex="-1"></a>almost_empty_ggplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> heroes)</span>
<span id="cb676-2"><a href="vdesc.html#cb676-2" aria-hidden="true" tabindex="-1"></a>almost_empty_ggplot</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-321-1.png" width="672" /></p>
<p>Возьмем <code>geom_bar()</code> для отрисовки барплота. В качестве эстетик поставим <code>x = Gender</code> и <code>fill = Gender</code>. Поскольку это эстетики, они обозначаются внутри функции параметра <code>mapping = aes()</code> или просто внутри функции <code>aes()</code>. По умолчанию, <code>geom_bar()</code> имеет статистику “count,” что нас полностью устраивает: <code>geom_bar()</code> сам посчитает табличу частот и использует значения <code>Gender</code> для обозначения позиций и заливки, а посчитанные частоты будет использовать для задания высоты столбцов.</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="vdesc.html#cb677-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> heroes) <span class="sc">+</span></span>
<span id="cb677-2"><a href="vdesc.html#cb677-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> Gender, <span class="at">fill =</span> Gender))</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-322-1.png" width="672" /></p>
<p>Сейчас мы сделаем один хитрый трюк: поставим значение эстетики <code>x = ""</code>, чтобы собрать все столбики в один.</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb678-1"><a href="vdesc.html#cb678-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> heroes) <span class="sc">+</span></span>
<span id="cb678-2"><a href="vdesc.html#cb678-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">fill =</span> Gender))</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-323-1.png" width="672" /></p>
<p>Получилось что-то не очень симпатичное, но вполне осмысленное: доли столбца обозначают относительную частоту.</p>
<p>Можно настроить общие параметры геома, не зависящие от данных. Это нужно делать <em>вне</em> функции <code>aes()</code>, но внутри функции для геома.</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="vdesc.html#cb679-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> heroes) <span class="sc">+</span></span>
<span id="cb679-2"><a href="vdesc.html#cb679-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">fill =</span> Gender), <span class="at">width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-324-1.png" width="672" /></p>
<blockquote>
<p>Казалось бы, причем здесь Minecraft?</p>
</blockquote>
<p>А теперь внимание! Подумайте, какого действия нам не хватает, чтобы из имеющегося графика получить пайчарт?</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb680-1"><a href="vdesc.html#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> heroes) <span class="sc">+</span></span>
<span id="cb680-2"><a href="vdesc.html#cb680-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb680-3"><a href="vdesc.html#cb680-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-325-1.png" width="672" /></p>
<p>Нам нужно было всего-лишь поменять систему координат с декартовой на полярную (круговую)! Иначе говоря, пайчарт - это барплот в полярной системе координат.</p>
<p>Именно в этом основная сила грамматики графики и ее реализации в <code>ggplot2</code> — вместо того, чтобы описывать и рисовать огромное количество типов графиков, можно описать практически любой график через небольшой количество элементарных элементов и правила их соединения.</p>
<p>Получившийся пайчарт осталось подретушировать, убрав все лишние элементы подложки с помощью самой минималистичной темы <code>theme_void()</code> и добавив название графика:</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="vdesc.html#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> heroes) <span class="sc">+</span></span>
<span id="cb681-2"><a href="vdesc.html#cb681-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb681-3"><a href="vdesc.html#cb681-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="at">theta =</span> <span class="st">&quot;y&quot;</span>) <span class="sc">+</span></span>
<span id="cb681-4"><a href="vdesc.html#cb681-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb681-5"><a href="vdesc.html#cb681-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Gender distributions for superheroes&quot;</span>)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-326-1.png" width="672" /></p>
<p>Это был интересный, но немного шуточный пример. Все-таки пайчарт — это довольно спорный способ визуализировать данные, вызывающий много вполне справедливой критики. Поэтому сейчас мы перейдем к гораздо более реалистичному примеру.</p>
</div>
<div id="gg_1" class="section level2" number="11.11">
<h2><span class="header-section-number">11.11</span> Пример №1: Education and IQ meta-analysis</h2>
<p>Для этого примера мы возьмем мета-анализ связи количества лет обучения и интеллекта: <em>“How Much Does Education Improve Intelligence? A Meta-Analysis”</em> <span class="citation">(<a href="ссылки-на-литературу.html#ref-eduiq" role="doc-biblioref">Ritchie and Tucker-Drob 2018</a>)</span>. Мета-анализ — это группа статистических методов, которые позволяют объединить результаты нескольких исследований с похожим планом исследованием и тематикой, чтобы посчитать средний эффект между несколькими статьями сразу.</p>
<p>Данные и скрипт для анализа данных в этой статье находятся в открытом доступе: <a href="https://osf.io/r8a24/" class="uri">https://osf.io/r8a24/</a></p>
<p>Полный текст статьи доступен по <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6088505/">ссылке</a>.</p>
<p>Существует положительная корреляция между количеством лет, который человек потратил на обучение, и интеллектом. Это может объясняться по-разному: как то, что обучение повышает интеллект, и как то, что люди с высоким интеллекте стремятся получать больше образования. Напрямую в эксперименте это проверить нельзя, поэтому есть несколько квази-экспериментальных планов, которые косвенно указывают на верность той или иной гипотезу. Например, если в стране изменилось количество лет обязательного школьного образования, то повлияло ли это на интеллект целого поколения? <del>Или все-таки дело в Моргенштерне</del></p>
<p><img src="images/meta_2.png" /></p>
<p>Данная картинка показывает, насколько размер эффекта (выраженный в баллах IQ) зависит от того, какой средний возраст участвоваших в исследовании испытуемых.</p>
<p>Каждая точка на этом графике — это отдельное исследование, положение по оси <em>x</em> — средний возраст респондентов, а положение по оси <em>y</em> - средний прирост интеллекта согласно исследованию. Размер точки отражает “точность” исследования (грубо говоря, чем больше выборка, тем больше точка). Два графика обозначают два квазиэкспериментальных плана.</p>
<p>Мы сфокусируемся на нижней картинке с “Policy change” — это как раз исследования, в которых изучается изменения интеллекта в возрастных группах после изменения количества лет обучения в школе.</p>
<p><img src="images/meta_analysis_ggplot2.png" /></p>
<p>Мы полностью воспроизведем код</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb682-1"><a href="vdesc.html#cb682-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>Заметьте, данный датасет использует немного непривычный для нас формат хранения данных. Попытайтесь самостоятельно прочитать его.</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="vdesc.html#cb683-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;https://raw.githubusercontent.com/Pozdniakov/tidy_stats/master/data/meta_dataset.txt&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   Study_ID = col_double(),
##   Data_ID = col_double(),
##   k = col_double(),
##   Country = col_character(),
##   n = col_double(),
##   Design = col_character(),
##   outcome_test_cat = col_double(),
##   Effect_size = col_double(),
##   SE = col_double(),
##   Outcome_age = col_double(),
##   quasi_age = col_double(),
##   cpiq_early_age = col_double(),
##   cpiq_age_diff = col_double(),
##   ses_funnel = col_double(),
##   published = col_double(),
##   Male_only = col_double(),
##   Achievement = col_double()
## )</code></pre>
<p>Давайте посмотрим, как устроен датафрейм <code>df</code>:</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="vdesc.html#cb685-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Study_ID"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Data_ID"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["k"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Country"],"name":[4],"type":["chr"],"align":["left"]},{"label":["n"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Design"],"name":[6],"type":["chr"],"align":["left"]},{"label":["outcome_test_cat"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["Effect_size"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["SE"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["Outcome_age"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["quasi_age"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["cpiq_early_age"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["cpiq_age_diff"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["ses_funnel"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["published"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["Male_only"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["Achievement"],"name":[17],"type":["dbl"],"align":["right"]}],"data":[{"1":"1.0","2":"1","3":"4","4":"UK","5":"483","6":"Control Prior IQ","7":"0","8":"0.778099000","9":"0.23902000","10":"79.06","11":"NA","12":"10.90","13":"68.16","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"1","3":"4","4":"UK","5":"290","6":"Control Prior IQ","7":"1","8":"0.077051753","9":"0.41420678","10":"83.34","11":"NA","12":"10.90","13":"72.44","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"1","3":"4","4":"UK","5":"290","6":"Control Prior IQ","7":"1","8":"0.426690170","9":"0.40978847","10":"83.34","11":"NA","12":"10.90","13":"72.44","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"1","3":"4","4":"UK","5":"288","6":"Control Prior IQ","7":"1","8":"0.005194806","9":"0.40838317","10":"83.34","11":"NA","12":"10.90","13":"72.44","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"2","3":"13","4":"UK","5":"1017","6":"Control Prior IQ","7":"0","8":"1.619402000","9":"0.32673500","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"2","3":"13","4":"UK","5":"1022","6":"Control Prior IQ","7":"1","8":"0.914732143","9":"0.44169643","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"2","3":"13","4":"UK","5":"1021","6":"Control Prior IQ","7":"1","8":"0.304588235","9":"0.44135294","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.0","2":"2","3":"13","4":"UK","5":"981","6":"Control Prior IQ","7":"1","8":"0.718824066","9":"0.46627165","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1024","6":"Control Prior IQ","7":"1","8":"1.702741000","9":"0.40326900","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1023","6":"Control Prior IQ","7":"1","8":"1.782288000","9":"0.39977300","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1023","6":"Control Prior IQ","7":"1","8":"1.838672000","9":"0.39962000","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1022","6":"Control Prior IQ","7":"1","8":"1.871174000","9":"0.39540400","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"989","6":"Control Prior IQ","7":"1","8":"1.497671000","9":"0.43600100","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1023","6":"Control Prior IQ","7":"1","8":"0.950066000","9":"0.39585900","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1017","6":"Control Prior IQ","7":"1","8":"0.845477000","9":"0.40602800","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"1027","6":"Control Prior IQ","7":"1","8":"0.445789000","9":"0.41586600","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"1.5","2":"2","3":"13","4":"UK","5":"811","6":"Control Prior IQ","7":"1","8":"0.138147000","9":"0.47882800","10":"69.53","11":"NA","12":"10.94","13":"58.59","14":"1","15":"1","16":"0","17":"0"},{"1":"2.0","2":"3","3":"1","4":"USA","5":"10317","6":"Control Prior IQ","7":"1","8":"1.322803500","9":"0.13279950","10":"53.00","11":"NA","12":"16.00","13":"37.00","14":"1","15":"1","16":"0","17":"0"},{"1":"2.0","2":"4","3":"1","4":"UK","5":"5362","6":"Control Prior IQ","7":"1","8":"0.597538500","9":"0.07967550","10":"53.00","11":"NA","12":"15.00","13":"38.00","14":"1","15":"1","16":"0","17":"0"},{"1":"2.0","2":"5","3":"1","4":"UK","5":"18558","6":"Control Prior IQ","7":"0","8":"1.437969000","9":"0.07352100","10":"50.00","11":"NA","12":"16.00","13":"34.00","14":"1","15":"1","16":"0","17":"0"},{"1":"3.0","2":"6","3":"1","4":"USA","5":"1404","6":"Control Prior IQ","7":"0","8":"1.600000000","9":"0.14500000","10":"19.00","11":"NA","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"0"},{"1":"4.0","2":"7","3":"1","4":"Sweden","5":"549","6":"Control Prior IQ","7":"0","8":"3.470000000","9":"0.23000000","10":"20.00","11":"NA","12":"10.00","13":"10.00","14":"1","15":"1","16":"1","17":"0"},{"1":"5.0","2":"8","3":"1","4":"Sweden","5":"142221","6":"Policy Change","7":"0","8":"1.306122449","9":"0.04164931","10":"18.50","11":"15.5","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"6.0","2":"9","3":"1","4":"Norway","5":"107223","6":"Policy Change","7":"0","8":"3.692000000","9":"0.91400000","10":"19.00","11":"15.0","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"7.0","2":"10","3":"2","4":"USA","5":"11427","6":"Policy Change","7":"1","8":"4.950000000","9":"0.45918367","10":"68.50","11":"10.0","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"7.0","2":"10","3":"2","4":"USA","5":"11427","6":"Policy Change","7":"1","8":"2.850000000","9":"0.53571429","10":"68.50","11":"10.0","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"8.0","2":"11","3":"2","4":"USA","5":"109","6":"Control Prior IQ","7":"2","8":"1.893000000","9":"0.34800000","10":"61.00","11":"NA","12":"18.00","13":"43.00","14":"1","15":"0","16":"0","17":"0"},{"1":"8.0","2":"11","3":"2","4":"USA","5":"109","6":"Control Prior IQ","7":"1","8":"-0.165000000","9":"0.52100000","10":"61.00","11":"NA","12":"18.00","13":"43.00","14":"1","15":"0","16":"0","17":"0"},{"1":"9.0","2":"12","3":"4","4":"UK","5":"2385","6":"Policy Change","7":"1","8":"5.100000000","9":"2.85000000","10":"53.55","11":"15.5","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"0"},{"1":"9.0","2":"12","3":"4","4":"UK","5":"2057","6":"Policy Change","7":"1","8":"4.650000000","9":"4.05000000","10":"53.55","11":"15.5","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"0"},{"1":"9.0","2":"12","3":"4","4":"UK","5":"1963","6":"Policy Change","7":"1","8":"0.150000000","9":"1.50000000","10":"53.55","11":"15.5","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"1"},{"1":"9.0","2":"12","3":"4","4":"UK","5":"1701","6":"Policy Change","7":"1","8":"0.750000000","9":"1.95000000","10":"53.55","11":"15.5","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"0"},{"1":"10.0","2":"13","3":"2","4":"UK","5":"1860","6":"Policy Change","7":"1","8":"2.610000000","9":"4.63500000","10":"71.00","11":"14.5","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"10.0","2":"13","3":"2","4":"UK","5":"1860","6":"Policy Change","7":"1","8":"3.540000000","9":"4.63500000","10":"71.00","11":"14.5","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"10.0","2":"14","3":"2","4":"UK","5":"2163","6":"Policy Change","7":"1","8":"3.300000000","9":"2.20500000","10":"71.00","11":"14.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"10.0","2":"14","3":"2","4":"UK","5":"2163","6":"Policy Change","7":"1","8":"0.120000000","9":"2.40000000","10":"71.00","11":"14.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"11.0","2":"15","3":"5","4":"Austria, Czechia, Denmark, France, Germany, Italy","5":"27699","6":"Policy Change","7":"1","8":"2.160000000","9":"0.99000000","10":"60.81","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"11.0","2":"15","3":"5","4":"Austria, Czechia, Denmark, France, Germany, Italy","5":"27693","6":"Policy Change","7":"1","8":"2.565000000","9":"1.17000000","10":"60.81","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"11.0","2":"15","3":"5","4":"Austria, Czechia, Denmark, France, Germany, Italy","5":"27555","6":"Policy Change","7":"1","8":"-3.900000000","9":"4.83000000","10":"60.81","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"11.0","2":"15","3":"5","4":"Austria, Czechia, Denmark, France, Germany, Italy","5":"22368","6":"Policy Change","7":"1","8":"-0.195000000","9":"0.34500000","10":"60.81","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"11.0","2":"15","3":"5","4":"Austria, Czechia, Denmark, France, Germany, Italy","5":"22467","6":"Policy Change","7":"1","8":"-0.105000000","9":"0.19500000","10":"60.81","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"12.0","2":"16","3":"1","4":"USA","5":"930","6":"Control Prior IQ","7":"1","8":"1.123000000","9":"0.17300000","10":"66.63","11":"NA","12":"20.00","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"13.0","2":"17","3":"1","4":"Palestine","5":"1530","6":"School Age Cutoff","7":"2","8":"2.400000000","9":"3.15000000","10":"11.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"13.0","2":"18","3":"1","4":"Israel","5":"1400","6":"School Age Cutoff","7":"0","8":"4.350000000","9":"3.00000000","10":"11.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"13.0","2":"19","3":"1","4":"Israel","5":"1000","6":"School Age Cutoff","7":"0","8":"0.300000000","9":"3.15000000","10":"11.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"14.0","2":"20","3":"3","4":"Cyprus","5":"577","6":"School Age Cutoff","7":"0","8":"9.194444444","9":"0.50000000","10":"14.82","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"14.0","2":"20","3":"3","4":"Cyprus","5":"577","6":"School Age Cutoff","7":"1","8":"10.195312500","9":"1.28906250","10":"14.82","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"14.0","2":"20","3":"3","4":"Cyprus","5":"577","6":"School Age Cutoff","7":"1","8":"10.785123970","9":"1.36363636","10":"14.82","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"3.450000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"4.050000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"2","8":"6.000000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"5.250000000","9":"0.90000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"7.500000000","9":"0.90000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"6.150000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"3.900000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"2.400000000","9":"0.90000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"2.100000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"4.050000000","9":"0.90000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"1.650000000","9":"0.75000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"15.0","2":"21","3":"12","4":"Israel","5":"11099","6":"School Age Cutoff","7":"1","8":"3.000000000","9":"1.05000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"16.0","2":"22","3":"4","4":"Sweden","5":"128617","6":"Policy Change","7":"2","8":"3.024000000","9":"0.62100000","10":"18.00","11":"18.0","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"16.0","2":"22","3":"4","4":"Sweden","5":"128617","6":"Policy Change","7":"2","8":"2.106000000","9":"0.67500000","10":"18.00","11":"18.0","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"16.0","2":"22","3":"4","4":"Sweden","5":"128617","6":"Policy Change","7":"1","8":"-0.297000000","9":"0.78300000","10":"18.00","11":"18.0","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"16.0","2":"22","3":"4","4":"Sweden","5":"128617","6":"Policy Change","7":"1","8":"-0.594000000","9":"0.64800000","10":"18.00","11":"18.0","12":"NA","13":"NA","14":"1","15":"1","16":"1","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22689","6":"School Age Cutoff","7":"1","8":"1.950000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22690","6":"School Age Cutoff","7":"1","8":"4.200000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22691","6":"School Age Cutoff","7":"1","8":"3.150000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22692","6":"School Age Cutoff","7":"1","8":"6.600000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22693","6":"School Age Cutoff","7":"1","8":"3.900000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22694","6":"School Age Cutoff","7":"1","8":"4.500000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22695","6":"School Age Cutoff","7":"1","8":"1.950000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22696","6":"School Age Cutoff","7":"1","8":"1.500000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22697","6":"School Age Cutoff","7":"1","8":"-0.600000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22698","6":"School Age Cutoff","7":"2","8":"5.700000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22699","6":"School Age Cutoff","7":"1","8":"3.150000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22700","6":"School Age Cutoff","7":"1","8":"8.700000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22701","6":"School Age Cutoff","7":"1","8":"6.450000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22702","6":"School Age Cutoff","7":"1","8":"6.300000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22703","6":"School Age Cutoff","7":"1","8":"3.150000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22704","6":"School Age Cutoff","7":"1","8":"8.550000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22705","6":"School Age Cutoff","7":"1","8":"4.800000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22706","6":"School Age Cutoff","7":"1","8":"12.450000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22707","6":"School Age Cutoff","7":"2","8":"4.200000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22708","6":"School Age Cutoff","7":"2","8":"5.100000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"1"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22709","6":"School Age Cutoff","7":"1","8":"5.100000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"17.0","2":"23","3":"22","4":"USA, Bermuda","5":"22710","6":"School Age Cutoff","7":"2","8":"6.150000000","9":"0.45000000","10":"10.50","11":"NA","12":"NA","13":"NA","14":"0","15":"0","16":"0","17":"0"},{"1":"18.0","2":"24","3":"3","4":"Israel","5":"1690","6":"School Age Cutoff","7":"1","8":"2.850000000","9":"0.82500000","10":"13.30","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"18.0","2":"24","3":"3","4":"Israel","5":"1690","6":"School Age Cutoff","7":"1","8":"2.250000000","9":"0.82500000","10":"13.30","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"18.0","2":"24","3":"3","4":"Israel","5":"1690","6":"School Age Cutoff","7":"1","8":"3.450000000","9":"0.82500000","10":"13.30","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"19.0","2":"25","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"4.010000000","9":"1.29000000","10":"8.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"25","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"1.590000000","9":"1.18000000","10":"9.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"25","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"3.430000000","9":"1.22000000","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"25","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"4.360000000","9":"1.22000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"25","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"2.350000000","9":"1.28000000","10":"12.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"26","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"5.570000000","9":"1.17000000","10":"8.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"26","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"8.610000000","9":"1.19000000","10":"9.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"26","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"5.110000000","9":"1.22000000","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"26","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"4.500000000","9":"1.25000000","10":"11.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"19.0","2":"26","3":"5","4":"China","5":"NA","6":"School Age Cutoff","7":"1","8":"4.190000000","9":"1.21000000","10":"12.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1600","6":"School Age Cutoff","7":"1","8":"2.700000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1601","6":"School Age Cutoff","7":"1","8":"3.600000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1602","6":"School Age Cutoff","7":"1","8":"0.900000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1603","6":"School Age Cutoff","7":"1","8":"2.400000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1604","6":"School Age Cutoff","7":"1","8":"3.150000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1605","6":"School Age Cutoff","7":"1","8":"3.600000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1606","6":"School Age Cutoff","7":"1","8":"4.950000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1607","6":"School Age Cutoff","7":"1","8":"0.450000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1608","6":"School Age Cutoff","7":"1","8":"4.650000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1609","6":"School Age Cutoff","7":"2","8":"2.100000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1610","6":"School Age Cutoff","7":"1","8":"8.700000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"1"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1611","6":"School Age Cutoff","7":"2","8":"4.350000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"0"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1612","6":"School Age Cutoff","7":"1","8":"5.100000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"1"},{"1":"20.0","2":"27","3":"14","4":"Israel","5":"1613","6":"School Age Cutoff","7":"1","8":"1.200000000","9":"3.30000000","10":"8.50","11":"NA","12":"NA","13":"NA","14":"0","15":"1","16":"0","17":"1"},{"1":"21.0","2":"28","3":"2","4":"Cyprus","5":"6169","6":"School Age Cutoff","7":"1","8":"7.441139646","9":"1.08881246","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"28","3":"2","4":"Cyprus","5":"6169","6":"School Age Cutoff","7":"2","8":"5.864668719","9":"1.10975085","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"29","3":"2","4":"England","5":"5960","6":"School Age Cutoff","7":"1","8":"3.687086775","9":"0.78673508","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"29","3":"2","4":"England","5":"5960","6":"School Age Cutoff","7":"2","8":"2.813065397","9":"0.83293585","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"30","3":"2","4":"Greece","5":"5656","6":"School Age Cutoff","7":"1","8":"7.717945990","9":"0.91487239","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"30","3":"2","4":"Greece","5":"5656","6":"School Age Cutoff","7":"2","8":"5.648627345","9":"0.95205675","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"31","3":"2","4":"Iceland","5":"3373","6":"School Age Cutoff","7":"1","8":"8.419980150","9":"1.09040356","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"31","3":"2","4":"Iceland","5":"3373","6":"School Age Cutoff","7":"2","8":"7.462932004","9":"1.08208013","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"32","3":"2","4":"Japan","5":"8442","6":"School Age Cutoff","7":"1","8":"6.267498291","9":"0.72635932","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"32","3":"2","4":"Japan","5":"8442","6":"School Age Cutoff","7":"2","8":"5.141370716","9":"0.69854450","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"33","3":"2","4":"Norway","5":"4361","6":"School Age Cutoff","7":"1","8":"11.977613200","9":"1.04108342","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"33","3":"2","4":"Norway","5":"4361","6":"School Age Cutoff","7":"2","8":"8.028434051","9":"1.06852646","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"34","3":"2","4":"Scotland","5":"6076","6":"School Age Cutoff","7":"1","8":"6.357976700","9":"0.83859060","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"34","3":"2","4":"Scotland","5":"6076","6":"School Age Cutoff","7":"2","8":"3.495870025","9":"0.87715717","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"35","3":"2","4":"Singapore","5":"13598","6":"School Age Cutoff","7":"1","8":"8.187298280","9":"0.82695532","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"21.0","2":"35","3":"2","4":"Singapore","5":"13598","6":"School Age Cutoff","7":"2","8":"7.048695426","9":"0.80884162","10":"10.00","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"22.0","2":"36","3":"1","4":"UK","5":"13078","6":"Control Prior IQ","7":"1","8":"0.915500000","9":"0.05407000","10":"34.00","11":"NA","12":"10.00","13":"24.00","14":"1","15":"0","16":"0","17":"1"},{"1":"23.0","2":"37","3":"1","4":"England","5":"6327","6":"School Age Cutoff","7":"1","8":"2.563658918","9":"0.34684797","10":"15.71","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"24.0","2":"38","3":"1","4":"Germany","5":"1219","6":"Policy Change","7":"2","8":"-0.763157895","9":"1.42368421","10":"48.32","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"24.0","2":"38","3":"1","4":"Germany","5":"763","6":"Policy Change","7":"2","8":"0.205263158","9":"2.54210526","10":"46.54","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"24.0","2":"38","3":"1","4":"Germany","5":"482","6":"Policy Change","7":"2","8":"-0.518421053","9":"1.73947368","10":"47.54","11":"13.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"},{"1":"25.0","2":"39","3":"1","4":"Sweden","5":"5599","6":"School Age Cutoff","7":"1","8":"5.624505408","9":"1.04457927","10":"6.50","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"25.0","2":"39","3":"1","4":"Sweden","5":"5714","6":"School Age Cutoff","7":"1","8":"3.458688403","9":"1.48017784","10":"7.50","11":"NA","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"1"},{"1":"26.0","2":"40","3":"3","4":"Germany","5":"3559","6":"Policy Change","7":"1","8":"2.433333333","9":"0.33333333","10":"51.00","11":"19.0","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"1"},{"1":"26.0","2":"40","3":"3","4":"Germany","5":"4116","6":"Policy Change","7":"1","8":"4.633333333","9":"0.33333333","10":"51.00","11":"19.0","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"1"},{"1":"26.0","2":"40","3":"3","4":"Germany","5":"2587","6":"Policy Change","7":"1","8":"4.366666667","9":"0.36666667","10":"51.00","11":"19.0","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"1"},{"1":"27.0","2":"41","3":"2","4":"China","5":"1525","6":"Policy Change","7":"1","8":"3.570000000","9":"1.71000000","10":"19.50","11":"10.5","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"1"},{"1":"27.0","2":"41","3":"2","4":"China","5":"1525","6":"Policy Change","7":"1","8":"2.220000000","9":"2.64000000","10":"19.50","11":"10.5","12":"NA","13":"NA","14":"1","15":"0","16":"0","17":"1"},{"1":"28.0","2":"42","3":"1","4":"UK","5":"8540","6":"Policy Change","7":"1","8":"2.815604000","9":"0.43715050","10":"54.50","11":"15.5","12":"NA","13":"NA","14":"1","15":"1","16":"0","17":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Каждая строчка — это результат отдельного исследования, при этом одна статья может включать несколько исследований,</p>
<p>В дальнейшем мы будем использовать код авторов статьи и смотреть, строчка за строчкой, как он будет работать.</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb686-1"><a href="vdesc.html#cb686-1" aria-hidden="true" tabindex="-1"></a>cpiq <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, <span class="at">subset=</span>(Design<span class="sc">==</span><span class="st">&quot;Control Prior IQ&quot;</span>))</span>
<span id="cb686-2"><a href="vdesc.html#cb686-2" aria-hidden="true" tabindex="-1"></a>poli <span class="ot">&lt;-</span> <span class="fu">subset</span>(df, <span class="at">subset=</span>(Design<span class="sc">==</span><span class="st">&quot;Policy Change&quot;</span>))</span></code></pre></div>
<p>Авторы исследования используют <code>subset()</code>, это функция базового R, принцип которой очень похож на <code>filter()</code>.<a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a></p>
<p>Итак, начнем рисовать сам график. Сначала иницируем объект <code>ggplot</code> с данными <code>poli</code> по умолчанию.</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="vdesc.html#cb687-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>poli) </span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-331-1.png" width="672" /></p>
<p>Теперь добавим в качестве эстетик по умолчанию координаты: <code>aes(x=Outcome_age, y=Effect_size)</code>.</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb688-1"><a href="vdesc.html#cb688-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size), <span class="at">data=</span>poli) </span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-332-1.png" width="672" /></p>
<p>Что изменилось? Появилась координатная ось и шкалы. Заметьте, масштаб неслучаен: он строится на основе разброса значений в выбранных колонках. Однако этого недостаточно для отрисовки графика, нехватает геометрии: нужно задать, в какую географическую сущность отобразятся данные.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="vdesc.html#cb689-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb689-2"><a href="vdesc.html#cb689-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-333-1.png" width="672" /></p>
<p>Готово! Это и есть основа картинки. Добавляем размер:</p>
<div class="sourceCode" id="cb690"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb690-1"><a href="vdesc.html#cb690-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb690-2"><a href="vdesc.html#cb690-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>() </span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-334-1.png" width="672" /></p>
<p>Перед нами возникла проблема оверплоттинга: некоторые точки перекрывают друг друга, поскольку имеют очень близкие координат. Авторы графика решают эту проблему очевидным способом: добавляют прозрачности точкам. Заметьте, прозрачность задается для всех точек одним значением, поэтому параметр <code>alpha</code> задается вне функции <code>aes()</code>.</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="vdesc.html#cb691-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb691-2"><a href="vdesc.html#cb691-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>) </span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-335-1.png" width="672" /></p>
<p>Совершенно так же задается и цвет. Он задается одинаковым для всех точек с помощью <a href="https://ru.wikipedia.org/wiki/Цвета_HTML">HEX-кода</a>.</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="vdesc.html#cb692-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb692-2"><a href="vdesc.html#cb692-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>)</span></code></pre></div>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-336-1.png" width="672" /></p>
<p>Теперь добавим регрессионную прямую с доверительными интервалами на график. Это специальный геом <code>geom_smooth()</code> со специальной статистикой, который займет второй слой данного графика.</p>
<div class="sourceCode" id="cb693"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb693-1"><a href="vdesc.html#cb693-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb693-2"><a href="vdesc.html#cb693-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb693-3"><a href="vdesc.html#cb693-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-337-1.png" width="672" /></p>
<p>По умолчанию <code>geom_smooth()</code> строит кривую линию. Поставим <code>method = "lm"</code> для прямой.</p>
<div class="sourceCode" id="cb695"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb695-1"><a href="vdesc.html#cb695-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb695-2"><a href="vdesc.html#cb695-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb695-3"><a href="vdesc.html#cb695-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-338-1.png" width="672" /></p>
<p>Теперь нужно поменять цвет: ярко синий цвет, используемый по умолчанию здесь попросту мешает восприятию графика.</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb697-1"><a href="vdesc.html#cb697-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb697-2"><a href="vdesc.html#cb697-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb697-3"><a href="vdesc.html#cb697-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-339-1.png" width="672" /></p>
<p>Авторы графика перекрашивают серую полупрозначную область тоже. В этом случае используется параметр <code>fill =</code>, а не <code>colour =</code>, но цвет используется тот же.</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="vdesc.html#cb699-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb699-2"><a href="vdesc.html#cb699-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb699-3"><a href="vdesc.html#cb699-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-340-1.png" width="672" /></p>
<p>Регрессионную линию авторы немного утоньшают с помощью параметра <code>size =</code>.</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb701-1"><a href="vdesc.html#cb701-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb701-2"><a href="vdesc.html#cb701-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb701-3"><a href="vdesc.html#cb701-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-341-1.png" width="672" /></p>
<p>Чтобы сместить фокус в сторону точек, авторы добавляют прозрачности для всего <code>geom_smooth()</code>.</p>
<div class="sourceCode" id="cb703"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb703-1"><a href="vdesc.html#cb703-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb703-2"><a href="vdesc.html#cb703-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb703-3"><a href="vdesc.html#cb703-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-342-1.png" width="672" /></p>
<p>На шкале присутствует 0, и по умолчанию он никак не обозначен. Это легко исправить с помощью вспомогательного геома <code>geom_hline()</code>.</p>
<div class="sourceCode" id="cb705"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb705-1"><a href="vdesc.html#cb705-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb705-2"><a href="vdesc.html#cb705-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb705-3"><a href="vdesc.html#cb705-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb705-4"><a href="vdesc.html#cb705-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-343-1.png" width="672" /></p>
<p>Оттенить эту линию можно, сделав ее пунктирной.</p>
<div class="sourceCode" id="cb707"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb707-1"><a href="vdesc.html#cb707-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb707-2"><a href="vdesc.html#cb707-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb707-3"><a href="vdesc.html#cb707-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb707-4"><a href="vdesc.html#cb707-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-344-1.png" width="672" /></p>
<p>Авторы графика вручную задают деления шкалы по оси <em>x</em>.</p>
<div class="sourceCode" id="cb709"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb709-1"><a href="vdesc.html#cb709-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb709-2"><a href="vdesc.html#cb709-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb709-3"><a href="vdesc.html#cb709-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb709-4"><a href="vdesc.html#cb709-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb709-5"><a href="vdesc.html#cb709-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-345-1.png" width="672" /></p>
<p>С помощью функции <code>guides()</code> убирают легенду с картинки.</p>
<div class="sourceCode" id="cb711"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb711-1"><a href="vdesc.html#cb711-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb711-2"><a href="vdesc.html#cb711-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb711-3"><a href="vdesc.html#cb711-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb711-4"><a href="vdesc.html#cb711-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb711-5"><a href="vdesc.html#cb711-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb711-6"><a href="vdesc.html#cb711-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-346-1.png" width="672" /></p>
<p>Следующим этапом авторы добавляют подписи шкал и название картинки. Обратите внимание на <code>\n</code> внутри подписи к оси <em>y</em>, которая задает перенос на следующую строку.</p>
<div class="sourceCode" id="cb713"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb713-1"><a href="vdesc.html#cb713-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb713-2"><a href="vdesc.html#cb713-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb713-3"><a href="vdesc.html#cb713-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb713-4"><a href="vdesc.html#cb713-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb713-5"><a href="vdesc.html#cb713-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb713-6"><a href="vdesc.html#cb713-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb713-7"><a href="vdesc.html#cb713-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb713-8"><a href="vdesc.html#cb713-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Policy Change&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-347-1.png" width="672" /></p>
<p>Теперь пришло время сделать график более красивым и понятным с помощью изменения подложки, т.е. работы с темой графика. Здесь тема задается сначала как <code>theme_bw()</code> — встроенная в <code>ggplot2</code> минималистичная тема, а потом через функцию <code>theme()</code>, через которую можно управлять конкретными элементами темы. Здесь это сделано, чтобы передвинуть название графика к центру.</p>
<div class="sourceCode" id="cb715"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb715-1"><a href="vdesc.html#cb715-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>poli) <span class="sc">+</span></span>
<span id="cb715-2"><a href="vdesc.html#cb715-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb715-3"><a href="vdesc.html#cb715-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb715-4"><a href="vdesc.html#cb715-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb715-5"><a href="vdesc.html#cb715-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb715-6"><a href="vdesc.html#cb715-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb715-7"><a href="vdesc.html#cb715-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb715-8"><a href="vdesc.html#cb715-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb715-9"><a href="vdesc.html#cb715-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Policy Change&quot;</span>)<span class="sc">+</span> </span>
<span id="cb715-10"><a href="vdesc.html#cb715-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>))</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-348-1.png" width="672" /></p>
<p>Готово! Мы полностью воспроизвели график авторов статьи с помощью их открытого кода.</p>
<p>Если вы помните, то в изначальном графике было две картинки. Авторы делают их отдельно, с помощью почти идентичного кода. Нечто похожее можно сделать по-другому, применяя фасетки.</p>
<p>Для этого мы возьмем неотфильтрованный датасет <code>df</code>, а с помощью колонки <code>Design</code>, на основании которой разделялся датасет для графиков, произведем разделение графиков внутри самого <code>ggplot</code> объекта. Для этого нам понадобится функция <code>facet_wrap()</code>, в которой с помощью формулы можно задать колонки, по которым будут разделены картинки по вертикали (слева от ~) и горизонтально (справа от ~). Пробуем разделить графики горизонтально:</p>
<div class="sourceCode" id="cb717"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb717-1"><a href="vdesc.html#cb717-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>df) <span class="sc">+</span></span>
<span id="cb717-2"><a href="vdesc.html#cb717-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb717-3"><a href="vdesc.html#cb717-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb717-4"><a href="vdesc.html#cb717-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb717-5"><a href="vdesc.html#cb717-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb717-6"><a href="vdesc.html#cb717-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb717-7"><a href="vdesc.html#cb717-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb717-8"><a href="vdesc.html#cb717-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb717-9"><a href="vdesc.html#cb717-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Policy Change&quot;</span>)<span class="sc">+</span> </span>
<span id="cb717-10"><a href="vdesc.html#cb717-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb717-11"><a href="vdesc.html#cb717-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Design)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-349-1.png" width="672" /></p>
<p>Здесь становится очевидно, почему авторы не включали данные <code>"School Age Cutoff"</code> третьим графиком: средний возраст участников этих исследований сильно отличается.</p>
<div class="sourceCode" id="cb719"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb719-1"><a href="vdesc.html#cb719-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Design <span class="sc">!=</span> <span class="st">&quot;School Age Cutoff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb719-2"><a href="vdesc.html#cb719-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb719-3"><a href="vdesc.html#cb719-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb719-4"><a href="vdesc.html#cb719-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb719-5"><a href="vdesc.html#cb719-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb719-6"><a href="vdesc.html#cb719-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb719-7"><a href="vdesc.html#cb719-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb719-8"><a href="vdesc.html#cb719-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb719-9"><a href="vdesc.html#cb719-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Policy Change&quot;</span>)<span class="sc">+</span> </span>
<span id="cb719-10"><a href="vdesc.html#cb719-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb719-11"><a href="vdesc.html#cb719-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>Design)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-350-1.png" width="672" /></p>
<p>Теперь поставим два графика друг над другом, поместив <code>Design</code> слева от <code>~</code> внутри <code>facet_wrap()</code>. Справа нужно добавить точку.</p>
<div class="sourceCode" id="cb721"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb721-1"><a href="vdesc.html#cb721-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Design <span class="sc">!=</span> <span class="st">&quot;School Age Cutoff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb721-2"><a href="vdesc.html#cb721-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb721-3"><a href="vdesc.html#cb721-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb721-4"><a href="vdesc.html#cb721-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb721-5"><a href="vdesc.html#cb721-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb721-6"><a href="vdesc.html#cb721-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb721-7"><a href="vdesc.html#cb721-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb721-8"><a href="vdesc.html#cb721-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb721-9"><a href="vdesc.html#cb721-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Policy Change&quot;</span>)<span class="sc">+</span> </span>
<span id="cb721-10"><a href="vdesc.html#cb721-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb721-11"><a href="vdesc.html#cb721-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(Design<span class="sc">~</span>.)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-351-1.png" width="672" /></p>
<p>Теперь нужно изменить подписи.</p>
<div class="sourceCode" id="cb723"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb723-1"><a href="vdesc.html#cb723-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>)), <span class="at">data=</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Design <span class="sc">!=</span> <span class="st">&quot;School Age Cutoff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb723-2"><a href="vdesc.html#cb723-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>) <span class="sc">+</span></span>
<span id="cb723-3"><a href="vdesc.html#cb723-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb723-4"><a href="vdesc.html#cb723-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb723-5"><a href="vdesc.html#cb723-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb723-6"><a href="vdesc.html#cb723-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb723-7"><a href="vdesc.html#cb723-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb723-8"><a href="vdesc.html#cb723-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span>F) <span class="sc">+</span></span>
<span id="cb723-9"><a href="vdesc.html#cb723-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">colour=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">fill=</span><span class="st">&quot;#BA1825&quot;</span>,<span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> </span>
<span id="cb723-10"><a href="vdesc.html#cb723-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Effect of education as a function of age at the outcome test&quot;</span>)<span class="sc">+</span> </span>
<span id="cb723-11"><a href="vdesc.html#cb723-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb723-12"><a href="vdesc.html#cb723-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(Design<span class="sc">~</span>.)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-352-1.png" width="672" /></p>
<p>Чтобы акцентировать графики, можно раскрасить их в разные цвета в дополнение к фасеткам. Для этого мы переносим <code>colour =</code> и <code>fill =</code> из параметров соответствующих геомов внутрь эстетик и делаем зависимыми от <code>Design</code>. Поскольку эти эстетики (точнее, <code>colour =</code>) одинаковы заданы для двух геомов (<code>geom_point()</code> и <code>geom_smooth()</code>), то мы спокойно можем вынести их в эстетики по умолчанию — в параметры <code>aes()</code> внутри <code>ggplot()</code>.</p>
<p>При этом сразу выключим легенды для новых эстетик, потому они избыточны.</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb725-1"><a href="vdesc.html#cb725-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>), <span class="at">colour =</span> Design, <span class="at">fill =</span> Design), <span class="at">data=</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Design <span class="sc">!=</span> <span class="st">&quot;School Age Cutoff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb725-2"><a href="vdesc.html#cb725-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>) <span class="sc">+</span></span>
<span id="cb725-3"><a href="vdesc.html#cb725-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb725-4"><a href="vdesc.html#cb725-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb725-5"><a href="vdesc.html#cb725-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb725-6"><a href="vdesc.html#cb725-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb725-7"><a href="vdesc.html#cb725-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb725-8"><a href="vdesc.html#cb725-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span><span class="cn">FALSE</span>, <span class="at">colour =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb725-9"><a href="vdesc.html#cb725-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> </span>
<span id="cb725-10"><a href="vdesc.html#cb725-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Effect of education as a function of age at the outcome test&quot;</span>)<span class="sc">+</span> </span>
<span id="cb725-11"><a href="vdesc.html#cb725-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb725-12"><a href="vdesc.html#cb725-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(Design<span class="sc">~</span>.)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-353-1.png" width="672" /></p>
<p>Слишком блеклая палитра? Не беда, можно задать палитру вручную! В <code>ggplot2</code> встроены легендарные <em>Brewer’s Color Palettes</em>, которыми мы и воспользуемся.</p>
<p>Функции для шкал устроены интересным образом: они состоят из трех слов, первое из которых <code>scale_*_*()</code>, второе — эстетика, например, <code>scale_color_*()</code>, а последнее слово — тип самой шкалы, в некоторых случаях - специальное название для используемой шкалы, как и в случае с <code>scale_color_brewer()</code>.</p>
<div class="sourceCode" id="cb727"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb727-1"><a href="vdesc.html#cb727-1" aria-hidden="true" tabindex="-1"></a>meta_2_gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Outcome_age, <span class="at">y=</span>Effect_size, <span class="at">size=</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>), <span class="at">colour =</span> Design, <span class="at">fill =</span> Design), <span class="at">data=</span>df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Design <span class="sc">!=</span> <span class="st">&quot;School Age Cutoff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb727-2"><a href="vdesc.html#cb727-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>(<span class="at">alpha=</span>.<span class="dv">55</span>) <span class="sc">+</span></span>
<span id="cb727-3"><a href="vdesc.html#cb727-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb727-4"><a href="vdesc.html#cb727-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb727-5"><a href="vdesc.html#cb727-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">20</span>,<span class="dv">30</span>,<span class="dv">40</span>,<span class="dv">50</span>,<span class="dv">60</span>,<span class="dv">70</span>,<span class="dv">80</span>)) <span class="sc">+</span></span>
<span id="cb727-6"><a href="vdesc.html#cb727-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">xlab</span>(<span class="st">&quot;Age at outcome test (years)&quot;</span>) <span class="sc">+</span></span>
<span id="cb727-7"><a href="vdesc.html#cb727-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ylab</span>(<span class="st">&quot;Gain for 1 year of education</span><span class="sc">\n</span><span class="st">(IQ points)&quot;</span>) <span class="sc">+</span></span>
<span id="cb727-8"><a href="vdesc.html#cb727-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">guides</span>(<span class="at">size=</span><span class="cn">FALSE</span>, <span class="at">colour =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb727-9"><a href="vdesc.html#cb727-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">size=</span>.<span class="dv">5</span>, <span class="at">alpha=</span>.<span class="dv">25</span>) <span class="sc">+</span> </span>
<span id="cb727-10"><a href="vdesc.html#cb727-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;Effect of education as a function of age at the outcome test&quot;</span>)<span class="sc">+</span> </span>
<span id="cb727-11"><a href="vdesc.html#cb727-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb727-12"><a href="vdesc.html#cb727-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(Design<span class="sc">~</span>.)<span class="sc">+</span></span>
<span id="cb727-13"><a href="vdesc.html#cb727-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_colour_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set1&quot;</span>)<span class="sc">+</span></span>
<span id="cb727-14"><a href="vdesc.html#cb727-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Set1&quot;</span>)</span>
<span id="cb727-15"><a href="vdesc.html#cb727-15" aria-hidden="true" tabindex="-1"></a>meta_2_gg</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-354-1.png" width="672" /></p>
</div>
<div id="gg_ext" class="section level2" number="11.12">
<h2><span class="header-section-number">11.12</span> Расширения <code>ggplot2</code></h2>
<p><code>ggplot2</code> стал очень популярным пакетом и быстро обзавелся расширениями - пакетами R, которые являются надстройками над <code>ggplot2</code>. Эти расширения бывают самого разного рода, например, добавляющие дополнительные геомы или просто реализующие отдельные типы графиков на языке <code>ggplot2</code>.</p>
<p>Я рекомендую посмотреть самостоятельно галерею расширений <code>ggplot2</code>: <a href="https://exts.ggplot2.tidyverse.org/gallery/" class="uri">https://exts.ggplot2.tidyverse.org/gallery/</a></p>
<p>Для примера мы возьмем пакет <code>hrbrthemes</code>, который предоставляет дополнительные темы для <code>ggplot2</code>, компоненты тем и шкалы.</p>
<div class="sourceCode" id="cb729"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb729-1"><a href="vdesc.html#cb729-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;hrbrthemes&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb730"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb730-1"><a href="vdesc.html#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(hrbrthemes)</span>
<span id="cb730-2"><a href="vdesc.html#cb730-2" aria-hidden="true" tabindex="-1"></a>meta_2_gg <span class="sc">+</span></span>
<span id="cb730-3"><a href="vdesc.html#cb730-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ipsum_tw</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="tidy_stats_files/figure-html/unnamed-chunk-356-1.png" width="672" /></p>
</div>
<div id="vis_dynamic" class="section level2" number="11.13">
<h2><span class="header-section-number">11.13</span> Динамические визуализации в R</h2>
<div id="html_w" class="section level3" number="11.13.1">
<h3><span class="header-section-number">11.13.1</span> Интерфейс для JavaScript фреймворков: пакет <code>htmlwidgets</code></h3>
<p>До этого мы делали только статические картинки, но в R можно делать динамические визуализации с интерактивными элементами! Делаются такие визуализации на основе JavaScript, в первую очередь, на основе фреймворка D3.js. Существует пакет для R <code>htmlwidgets</code>, который предоставляет интерфейс для работы с JavaScript визуализациями из R и вставлять их в RMarkdown HTML-документы и веб-приложения Shiny. <code>htmlwidgets</code> — это пакет, в первую очередь, для разработчиков R пакетов, которые делают на его основе очень простые и удобные в использовании R пакеты для создания динамических визуализаций и прочих динамических элементов.</p>
</div>
<div id="plotly" class="section level3" number="11.13.2">
<h3><span class="header-section-number">11.13.2</span> Динамические визуализации в <code>plotly</code></h3>
<p>Один из самых распространенных средств для динамических визуализаций — это пакет <code>plotly</code>.</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb732-1"><a href="vdesc.html#cb732-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;plotly&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb733"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb733-1"><a href="vdesc.html#cb733-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
<pre><code>## 
## Присоединяю пакет: &#39;plotly&#39;</code></pre>
<pre><code>## Следующий объект скрыт от &#39;package:ggplot2&#39;:
## 
##     last_plot</code></pre>
<pre><code>## Следующий объект скрыт от &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre><code>## Следующий объект скрыт от &#39;package:graphics&#39;:
## 
##     layout</code></pre>
<p>Есть два базовых способа использовать <code>plotly</code> в R. Первый — это просто оборачивать готовые графики <code>ggplot2</code> с помощью функции <code>ggplotly()</code>.</p>
<div class="sourceCode" id="cb738"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb738-1"><a href="vdesc.html#cb738-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(meta_2_gg)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<div id="htmlwidget-44751c49fa91f07d0ce8" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-44751c49fa91f07d0ce8">{"x":{"data":[{"x":[79.06,83.34,83.34,83.34,69.53,69.53,69.53,69.53,69.53,69.53,69.53,69.53,69.53,69.53,69.53,69.53,69.53,53,53,50,19,20,61,61,66.63,34],"y":[0.778099,0.077051753,0.42669017,0.005194806,1.619402,0.914732143,0.304588235,0.718824066,1.702741,1.782288,1.838672,1.871174,1.497671,0.950066,0.845477,0.445789,0.138147,1.3228035,0.5975385,1.437969,1.6,3.47,1.893,-0.165,1.123,0.9155],"text":["Outcome_age: 79.06<br />Effect_size:  0.778099000<br />1/(SE^2):  17.50376669<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34<br />Effect_size:  0.077051753<br />1/(SE^2):   5.82861800<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34<br />Effect_size:  0.426690170<br />1/(SE^2):   5.95498306<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34<br />Effect_size:  0.005194806<br />1/(SE^2):   5.99603721<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  1.619402000<br />1/(SE^2):   9.36717605<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.914732143<br />1/(SE^2):   5.12568867<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.304588235<br />1/(SE^2):   5.13367002<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.718824066<br />1/(SE^2):   4.59962027<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  1.702741000<br />1/(SE^2):   6.14908255<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  1.782288000<br />1/(SE^2):   6.25709979<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  1.838672000<br />1/(SE^2):   6.26189194<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  1.871174000<br />1/(SE^2):   6.39613885<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  1.497671000<br />1/(SE^2):   5.26047583<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.950066000<br />1/(SE^2):   6.38144387<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.845477000<br />1/(SE^2):   6.06579924<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.445789000<br />1/(SE^2):   5.78220080<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.53<br />Effect_size:  0.138147000<br />1/(SE^2):   4.36155068<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 53.00<br />Effect_size:  1.322803500<br />1/(SE^2):  56.70314145<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 53.00<br />Effect_size:  0.597538500<br />1/(SE^2): 157.52533247<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 50.00<br />Effect_size:  1.437969000<br />1/(SE^2): 185.00232611<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 19.00<br />Effect_size:  1.600000000<br />1/(SE^2):  47.56242568<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 20.00<br />Effect_size:  3.470000000<br />1/(SE^2):  18.90359168<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 61.00<br />Effect_size:  1.893000000<br />1/(SE^2):   8.25736557<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 61.00<br />Effect_size: -0.165000000<br />1/(SE^2):   3.68404184<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 66.63<br />Effect_size:  1.123000000<br />1/(SE^2):  33.41240937<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 34.00<br />Effect_size:  0.915500000<br />1/(SE^2): 342.04816182<br />Design: Control Prior IQ<br />Design: Control Prior IQ"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(228,26,28,1)","opacity":0.55,"size":[7.06853487795074,5.67279272209843,5.69335619477902,5.69998957776969,6.18300405547438,5.55406031109821,5.5554530039435,5.45972124523474,5.72451873910342,5.74164649470697,5.74240289974787,5.76347557256391,5.57743503930161,5.7611798300626,5.71120923565842,5.66518290580492,5.41524126927025,9.70428879724877,13.6570406725469,14.4841113328666,9.20537673153677,7.19783182831966,6.03543919525238,5.28146684917621,8.32633588362529,18.3357246021416],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(228,26,28,1)"}},"hoveron":"points","name":"Control Prior IQ","legendgroup":"Control Prior IQ","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.5,19,68.5,68.5,53.55,53.55,53.55,53.55,71,71,71,71,60.81,60.81,60.81,60.81,60.81,18,18,18,18,48.32,46.54,47.54,51,51,51,19.5,19.5,54.5],"y":[1.306122449,3.692,4.95,2.85,5.1,4.65,0.15,0.75,2.61,3.54,3.3,0.12,2.16,2.565,-3.9,-0.195,-0.105,3.024,2.106,-0.297,-0.594,-0.763157895,0.205263158,-0.518421053,2.433333333,4.633333333,4.366666667,3.57,2.22,2.815604],"text":["Outcome_age: 18.50<br />Effect_size:  1.306122449<br />1/(SE^2): 576.48009409<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 19.00<br />Effect_size:  3.692000000<br />1/(SE^2):   1.19703709<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.50<br />Effect_size:  4.950000000<br />1/(SE^2):   4.74271606<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.50<br />Effect_size:  2.850000000<br />1/(SE^2):   3.48444444<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55<br />Effect_size:  5.100000000<br />1/(SE^2):   0.12311480<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55<br />Effect_size:  4.650000000<br />1/(SE^2):   0.06096632<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55<br />Effect_size:  0.150000000<br />1/(SE^2):   0.44444444<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55<br />Effect_size:  0.750000000<br />1/(SE^2):   0.26298488<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00<br />Effect_size:  2.610000000<br />1/(SE^2):   0.04654795<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00<br />Effect_size:  3.540000000<br />1/(SE^2):   0.04654795<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00<br />Effect_size:  3.300000000<br />1/(SE^2):   0.20567562<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00<br />Effect_size:  0.120000000<br />1/(SE^2):   0.17361111<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.81<br />Effect_size:  2.160000000<br />1/(SE^2):   1.02030405<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.81<br />Effect_size:  2.565000000<br />1/(SE^2):   0.73051355<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.81<br />Effect_size: -3.900000000<br />1/(SE^2):   0.04286529<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.81<br />Effect_size: -0.195000000<br />1/(SE^2):   8.40159630<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.81<br />Effect_size: -0.105000000<br />1/(SE^2):  26.29848784<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.00<br />Effect_size:  3.024000000<br />1/(SE^2):   2.59308528<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.00<br />Effect_size:  2.106000000<br />1/(SE^2):   2.19478738<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.00<br />Effect_size: -0.297000000<br />1/(SE^2):   1.63108456<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.00<br />Effect_size: -0.594000000<br />1/(SE^2):   2.38149672<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.32<br />Effect_size: -0.763157895<br />1/(SE^2):   0.49336991<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.54<br />Effect_size:  0.205263158<br />1/(SE^2):   0.15474369<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 47.54<br />Effect_size: -0.518421053<br />1/(SE^2):   0.33049453<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 51.00<br />Effect_size:  2.433333333<br />1/(SE^2):   9.00000002<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 51.00<br />Effect_size:  4.633333333<br />1/(SE^2):   9.00000002<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 51.00<br />Effect_size:  4.366666667<br />1/(SE^2):   7.43801652<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 19.50<br />Effect_size:  3.570000000<br />1/(SE^2):   0.34198557<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 19.50<br />Effect_size:  2.220000000<br />1/(SE^2):   0.14348026<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.50<br />Effect_size:  2.815604000<br />1/(SE^2):   5.23284705<br />Design: Policy Change<br />Design: Policy Change"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(55,126,184,1)","opacity":0.55,"size":[22.6771653543307,4.62513099821534,5.48589888360512,5.23972099273306,4.00250078864891,3.88542443304592,4.27831681706239,4.14881187135917,3.82729283109278,3.82729283109278,4.09712170604914,4.06413445775416,4.55770079364657,4.43222917109994,3.77952755905512,6.05515773904127,7.81266173098319,5.03648430433088,4.93416272946958,4.77147061251938,4.98321132017399,4.30782820038458,4.04279953494404,4.20165931858782,6.13520630382848,6.13520630382848,5.91997732429198,4.21000900714337,4.02919551785402,5.57266849746288],"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(55,126,184,1)"}},"hoveron":"points","name":"Policy Change","legendgroup":"Policy Change","showlegend":true,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[14.733,86.607],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"dot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14.733,86.607],"y":[0,0],"text":"yintercept: 0","type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,0,0,1)","dash":"dot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[19,19.8144303797468,20.6288607594937,21.4432911392405,22.2577215189873,23.0721518987342,23.886582278481,24.7010126582278,25.5154430379747,26.3298734177215,27.1443037974684,27.9587341772152,28.773164556962,29.5875949367089,30.4020253164557,31.2164556962025,32.0308860759494,32.8453164556962,33.659746835443,34.4741772151899,35.2886075949367,36.1030379746835,36.9174683544304,37.7318987341772,38.5463291139241,39.3607594936709,40.1751898734177,40.9896202531646,41.8040506329114,42.6184810126582,43.4329113924051,44.2473417721519,45.0617721518987,45.8762025316456,46.6906329113924,47.5050632911392,48.3194936708861,49.1339240506329,49.9483544303798,50.7627848101266,51.5772151898734,52.3916455696203,53.2060759493671,54.0205063291139,54.8349367088608,55.6493670886076,56.4637974683544,57.2782278481013,58.0926582278481,58.9070886075949,59.7215189873418,60.5359493670886,61.3503797468354,62.1648101265823,62.9792405063291,63.793670886076,64.6081012658228,65.4225316455696,66.2369620253165,67.0513924050633,67.8658227848101,68.680253164557,69.4946835443038,70.3091139240506,71.1235443037975,71.9379746835443,72.7524050632911,73.566835443038,74.3812658227848,75.1956962025316,76.0101265822785,76.8245569620253,77.6389873417722,78.453417721519,79.2678481012658,80.0822784810127,80.8967088607595,81.7111392405063,82.5255696202532,83.34],"y":[2.20650696082016,2.18590484178633,2.1653027227525,2.14470060371867,2.12409848468484,2.10349636565101,2.08289424661718,2.06229212758336,2.04169000854953,2.0210878895157,2.00048577048187,1.97988365144804,1.95928153241421,1.93867941338038,1.91807729434656,1.89747517531273,1.8768730562789,1.85627093724507,1.83566881821124,1.81506669917741,1.79446458014358,1.77386246110976,1.75326034207593,1.7326582230421,1.71205610400827,1.69145398497444,1.67085186594061,1.65024974690678,1.62964762787295,1.60904550883913,1.5884433898053,1.56784127077147,1.54723915173764,1.52663703270381,1.50603491366998,1.48543279463615,1.46483067560233,1.4442285565685,1.42362643753467,1.40302431850084,1.38242219946701,1.36182008043318,1.34121796139935,1.32061584236553,1.3000137233317,1.27941160429787,1.25880948526404,1.23820736623021,1.21760524719638,1.19700312816255,1.17640100912873,1.1557988900949,1.13519677106107,1.11459465202724,1.09399253299341,1.07339041395958,1.05278829492575,1.03218617589192,1.0115840568581,0.990981937824267,0.970379818790439,0.94977769975661,0.929175580722782,0.908573461688953,0.887971342655124,0.867369223621296,0.846767104587467,0.826164985553639,0.80556286651981,0.784960747485981,0.764358628452153,0.743756509418324,0.723154390384495,0.702552271350666,0.681950152316838,0.66134803328301,0.640745914249181,0.620143795215352,0.599541676181524,0.578939557147695],"text":["Outcome_age: 19.00000<br />Effect_size: 2.2065070<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 19.81443<br />Effect_size: 2.1859048<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 20.62886<br />Effect_size: 2.1653027<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 21.44329<br />Effect_size: 2.1447006<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 22.25772<br />Effect_size: 2.1240985<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 23.07215<br />Effect_size: 2.1034964<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 23.88658<br />Effect_size: 2.0828942<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 24.70101<br />Effect_size: 2.0622921<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 25.51544<br />Effect_size: 2.0416900<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 26.32987<br />Effect_size: 2.0210879<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 27.14430<br />Effect_size: 2.0004858<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 27.95873<br />Effect_size: 1.9798837<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 28.77316<br />Effect_size: 1.9592815<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 29.58759<br />Effect_size: 1.9386794<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 30.40203<br />Effect_size: 1.9180773<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 31.21646<br />Effect_size: 1.8974752<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 32.03089<br />Effect_size: 1.8768731<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 32.84532<br />Effect_size: 1.8562709<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 33.65975<br />Effect_size: 1.8356688<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 34.47418<br />Effect_size: 1.8150667<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 35.28861<br />Effect_size: 1.7944646<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 36.10304<br />Effect_size: 1.7738625<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 36.91747<br />Effect_size: 1.7532603<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 37.73190<br />Effect_size: 1.7326582<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 38.54633<br />Effect_size: 1.7120561<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 39.36076<br />Effect_size: 1.6914540<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 40.17519<br />Effect_size: 1.6708519<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 40.98962<br />Effect_size: 1.6502497<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 41.80405<br />Effect_size: 1.6296476<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 42.61848<br />Effect_size: 1.6090455<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 43.43291<br />Effect_size: 1.5884434<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 44.24734<br />Effect_size: 1.5678413<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 45.06177<br />Effect_size: 1.5472392<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 45.87620<br />Effect_size: 1.5266370<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 46.69063<br />Effect_size: 1.5060349<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 47.50506<br />Effect_size: 1.4854328<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 48.31949<br />Effect_size: 1.4648307<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 49.13392<br />Effect_size: 1.4442286<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 49.94835<br />Effect_size: 1.4236264<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 50.76278<br />Effect_size: 1.4030243<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 51.57722<br />Effect_size: 1.3824222<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 52.39165<br />Effect_size: 1.3618201<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 53.20608<br />Effect_size: 1.3412180<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 54.02051<br />Effect_size: 1.3206158<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 54.83494<br />Effect_size: 1.3000137<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 55.64937<br />Effect_size: 1.2794116<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 56.46380<br />Effect_size: 1.2588095<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 57.27823<br />Effect_size: 1.2382074<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 58.09266<br />Effect_size: 1.2176052<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 58.90709<br />Effect_size: 1.1970031<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 59.72152<br />Effect_size: 1.1764010<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 60.53595<br />Effect_size: 1.1557989<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 61.35038<br />Effect_size: 1.1351968<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 62.16481<br />Effect_size: 1.1145947<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 62.97924<br />Effect_size: 1.0939925<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 63.79367<br />Effect_size: 1.0733904<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 64.60810<br />Effect_size: 1.0527883<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 65.42253<br />Effect_size: 1.0321862<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 66.23696<br />Effect_size: 1.0115841<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 67.05139<br />Effect_size: 0.9909819<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 67.86582<br />Effect_size: 0.9703798<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 68.68025<br />Effect_size: 0.9497777<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.49468<br />Effect_size: 0.9291756<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 70.30911<br />Effect_size: 0.9085735<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 71.12354<br />Effect_size: 0.8879713<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 71.93797<br />Effect_size: 0.8673692<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 72.75241<br />Effect_size: 0.8467671<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 73.56684<br />Effect_size: 0.8261650<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 74.38127<br />Effect_size: 0.8055629<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 75.19570<br />Effect_size: 0.7849607<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 76.01013<br />Effect_size: 0.7643586<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 76.82456<br />Effect_size: 0.7437565<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 77.63899<br />Effect_size: 0.7231544<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 78.45342<br />Effect_size: 0.7025523<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 79.26785<br />Effect_size: 0.6819502<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 80.08228<br />Effect_size: 0.6613480<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 80.89671<br />Effect_size: 0.6407459<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 81.71114<br />Effect_size: 0.6201438<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 82.52557<br />Effect_size: 0.5995417<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34000<br />Effect_size: 0.5789396<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ"],"type":"scatter","mode":"lines","name":"Control Prior IQ","line":{"width":1.88976377952756,"color":"rgba(228,26,28,1)","dash":"solid"},"hoveron":"points","legendgroup":"Control Prior IQ","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18,18.6708860759494,19.3417721518987,20.0126582278481,20.6835443037975,21.3544303797468,22.0253164556962,22.6962025316456,23.3670886075949,24.0379746835443,24.7088607594937,25.379746835443,26.0506329113924,26.7215189873418,27.3924050632911,28.0632911392405,28.7341772151899,29.4050632911392,30.0759493670886,30.746835443038,31.4177215189873,32.0886075949367,32.7594936708861,33.4303797468354,34.1012658227848,34.7721518987342,35.4430379746835,36.1139240506329,36.7848101265823,37.4556962025316,38.126582278481,38.7974683544304,39.4683544303797,40.1392405063291,40.8101265822785,41.4810126582278,42.1518987341772,42.8227848101266,43.4936708860759,44.1645569620253,44.8354430379747,45.5063291139241,46.1772151898734,46.8481012658228,47.5189873417722,48.1898734177215,48.8607594936709,49.5316455696203,50.2025316455696,50.873417721519,51.5443037974684,52.2151898734177,52.8860759493671,53.5569620253165,54.2278481012658,54.8987341772152,55.5696202531646,56.2405063291139,56.9113924050633,57.5822784810127,58.253164556962,58.9240506329114,59.5949367088608,60.2658227848101,60.9367088607595,61.6075949367089,62.2784810126582,62.9493670886076,63.620253164557,64.2911392405063,64.9620253164557,65.6329113924051,66.3037974683544,66.9746835443038,67.6455696202532,68.3164556962025,68.9873417721519,69.6582278481013,70.3291139240506,71],"y":[1.71372965595363,1.71771532709932,1.721700998245,1.72568666939068,1.72967234053636,1.73365801168204,1.73764368282772,1.7416293539734,1.74561502511908,1.74960069626476,1.75358636741044,1.75757203855613,1.76155770970181,1.76554338084749,1.76952905199317,1.77351472313885,1.77750039428453,1.78148606543021,1.78547173657589,1.78945740772157,1.79344307886725,1.79742875001293,1.80141442115862,1.8054000923043,1.80938576344998,1.81337143459566,1.81735710574134,1.82134277688702,1.8253284480327,1.82931411917838,1.83329979032406,1.83728546146974,1.84127113261543,1.84525680376111,1.84924247490679,1.85322814605247,1.85721381719815,1.86119948834383,1.86518515948951,1.86917083063519,1.87315650178087,1.87714217292655,1.88112784407224,1.88511351521792,1.8890991863636,1.89308485750928,1.89707052865496,1.90105619980064,1.90504187094632,1.909027542092,1.91301321323768,1.91699888438336,1.92098455552905,1.92497022667473,1.92895589782041,1.93294156896609,1.93692724011177,1.94091291125745,1.94489858240313,1.94888425354881,1.95286992469449,1.95685559584017,1.96084126698585,1.96482693813154,1.96881260927722,1.9727982804229,1.97678395156858,1.98076962271426,1.98475529385994,1.98874096500562,1.9927266361513,1.99671230729698,2.00069797844266,2.00468364958835,2.00866932073403,2.01265499187971,2.01664066302539,2.02062633417107,2.02461200531675,2.02859767646243],"text":["Outcome_age: 18.00000<br />Effect_size: 1.7137297<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.67089<br />Effect_size: 1.7177153<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 19.34177<br />Effect_size: 1.7217010<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 20.01266<br />Effect_size: 1.7256867<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 20.68354<br />Effect_size: 1.7296723<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 21.35443<br />Effect_size: 1.7336580<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 22.02532<br />Effect_size: 1.7376437<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 22.69620<br />Effect_size: 1.7416294<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 23.36709<br />Effect_size: 1.7456150<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 24.03797<br />Effect_size: 1.7496007<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 24.70886<br />Effect_size: 1.7535864<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 25.37975<br />Effect_size: 1.7575720<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 26.05063<br />Effect_size: 1.7615577<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 26.72152<br />Effect_size: 1.7655434<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 27.39241<br />Effect_size: 1.7695291<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 28.06329<br />Effect_size: 1.7735147<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 28.73418<br />Effect_size: 1.7775004<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 29.40506<br />Effect_size: 1.7814861<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 30.07595<br />Effect_size: 1.7854717<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 30.74684<br />Effect_size: 1.7894574<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 31.41772<br />Effect_size: 1.7934431<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 32.08861<br />Effect_size: 1.7974288<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 32.75949<br />Effect_size: 1.8014144<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 33.43038<br />Effect_size: 1.8054001<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 34.10127<br />Effect_size: 1.8093858<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 34.77215<br />Effect_size: 1.8133714<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 35.44304<br />Effect_size: 1.8173571<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 36.11392<br />Effect_size: 1.8213428<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 36.78481<br />Effect_size: 1.8253284<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 37.45570<br />Effect_size: 1.8293141<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 38.12658<br />Effect_size: 1.8332998<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 38.79747<br />Effect_size: 1.8372855<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 39.46835<br />Effect_size: 1.8412711<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 40.13924<br />Effect_size: 1.8452568<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 40.81013<br />Effect_size: 1.8492425<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 41.48101<br />Effect_size: 1.8532281<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 42.15190<br />Effect_size: 1.8572138<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 42.82278<br />Effect_size: 1.8611995<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 43.49367<br />Effect_size: 1.8651852<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 44.16456<br />Effect_size: 1.8691708<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 44.83544<br />Effect_size: 1.8731565<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 45.50633<br />Effect_size: 1.8771422<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.17722<br />Effect_size: 1.8811278<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.84810<br />Effect_size: 1.8851135<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 47.51899<br />Effect_size: 1.8890992<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.18987<br />Effect_size: 1.8930849<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.86076<br />Effect_size: 1.8970705<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 49.53165<br />Effect_size: 1.9010562<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 50.20253<br />Effect_size: 1.9050419<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 50.87342<br />Effect_size: 1.9090275<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 51.54430<br />Effect_size: 1.9130132<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 52.21519<br />Effect_size: 1.9169989<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 52.88608<br />Effect_size: 1.9209846<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55696<br />Effect_size: 1.9249702<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.22785<br />Effect_size: 1.9289559<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.89873<br />Effect_size: 1.9329416<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 55.56962<br />Effect_size: 1.9369272<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 56.24051<br />Effect_size: 1.9409129<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 56.91139<br />Effect_size: 1.9448986<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 57.58228<br />Effect_size: 1.9488843<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 58.25316<br />Effect_size: 1.9528699<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 58.92405<br />Effect_size: 1.9568556<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 59.59494<br />Effect_size: 1.9608413<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.26582<br />Effect_size: 1.9648269<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.93671<br />Effect_size: 1.9688126<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 61.60759<br />Effect_size: 1.9727983<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 62.27848<br />Effect_size: 1.9767840<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 62.94937<br />Effect_size: 1.9807696<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 63.62025<br />Effect_size: 1.9847553<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 64.29114<br />Effect_size: 1.9887410<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 64.96203<br />Effect_size: 1.9927266<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 65.63291<br />Effect_size: 1.9967123<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 66.30380<br />Effect_size: 2.0006980<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 66.97468<br />Effect_size: 2.0046836<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 67.64557<br />Effect_size: 2.0086693<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.31646<br />Effect_size: 2.0126550<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.98734<br />Effect_size: 2.0166407<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 69.65823<br />Effect_size: 2.0206263<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 70.32911<br />Effect_size: 2.0246120<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00000<br />Effect_size: 2.0285977<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change"],"type":"scatter","mode":"lines","name":"Policy Change","line":{"width":1.88976377952756,"color":"rgba(55,126,184,1)","dash":"solid"},"hoveron":"points","legendgroup":"Policy Change","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[19,19.8144303797468,20.6288607594937,21.4432911392405,22.2577215189873,23.0721518987342,23.886582278481,24.7010126582278,25.5154430379747,26.3298734177215,27.1443037974684,27.9587341772152,28.773164556962,29.5875949367089,30.4020253164557,31.2164556962025,32.0308860759494,32.8453164556962,33.659746835443,34.4741772151899,35.2886075949367,36.1030379746835,36.9174683544304,37.7318987341772,38.5463291139241,39.3607594936709,40.1751898734177,40.9896202531646,41.8040506329114,42.6184810126582,43.4329113924051,44.2473417721519,45.0617721518987,45.8762025316456,46.6906329113924,47.5050632911392,48.3194936708861,49.1339240506329,49.9483544303798,50.7627848101266,51.5772151898734,52.3916455696203,53.2060759493671,54.0205063291139,54.8349367088608,55.6493670886076,56.4637974683544,57.2782278481013,58.0926582278481,58.9070886075949,59.7215189873418,60.5359493670886,61.3503797468354,62.1648101265823,62.9792405063291,63.793670886076,64.6081012658228,65.4225316455696,66.2369620253165,67.0513924050633,67.8658227848101,68.680253164557,69.4946835443038,70.3091139240506,71.1235443037975,71.9379746835443,72.7524050632911,73.566835443038,74.3812658227848,75.1956962025316,76.0101265822785,76.8245569620253,77.6389873417722,78.453417721519,79.2678481012658,80.0822784810127,80.8967088607595,81.7111392405063,82.5255696202532,83.34,83.34,83.34,82.5255696202532,81.7111392405063,80.8967088607595,80.0822784810127,79.2678481012658,78.453417721519,77.6389873417722,76.8245569620253,76.0101265822785,75.1956962025316,74.3812658227848,73.566835443038,72.7524050632911,71.9379746835443,71.1235443037975,70.3091139240506,69.4946835443038,68.680253164557,67.8658227848101,67.0513924050633,66.2369620253165,65.4225316455696,64.6081012658228,63.793670886076,62.9792405063291,62.1648101265823,61.3503797468354,60.5359493670886,59.7215189873418,58.9070886075949,58.0926582278481,57.2782278481013,56.4637974683544,55.6493670886076,54.8349367088608,54.0205063291139,53.2060759493671,52.3916455696203,51.5772151898734,50.7627848101266,49.9483544303798,49.1339240506329,48.3194936708861,47.5050632911392,46.6906329113924,45.8762025316456,45.0617721518987,44.2473417721519,43.4329113924051,42.6184810126582,41.8040506329114,40.9896202531646,40.1751898734177,39.3607594936709,38.5463291139241,37.7318987341772,36.9174683544304,36.1030379746835,35.2886075949367,34.4741772151899,33.659746835443,32.8453164556962,32.0308860759494,31.2164556962025,30.4020253164557,29.5875949367089,28.773164556962,27.9587341772152,27.1443037974684,26.3298734177215,25.5154430379747,24.7010126582278,23.886582278481,23.0721518987342,22.2577215189873,21.4432911392405,20.6288607594937,19.8144303797468,19,19],"y":[1.40114547371637,1.39349358180454,1.38581160160373,1.37809801180969,1.37035119091769,1.36256940921806,1.35475082005574,1.34689345027942,1.33899518979834,1.33105378015643,1.32306680202389,1.31503166149685,1.30694557508441,1.29880555325117,1.29060838237092,1.28235060493445,1.274028497841,1.26563804858981,1.257174929175,1.24863446747511,1.24001161591834,1.23130091719697,1.22249646680196,1.21359187215177,1.20458020810255,1.19545396865189,1.18620501469057,1.1768245177215,1.16730289955907,1.15762976815423,1.14779384987079,1.13778291877858,1.12758372384335,1.11718191529607,1.10656197197107,1.09570713202754,1.08459933022189,1.07321914578239,1.06154576594083,1.04955697126806,1.03722915007919,1.02453735022083,1.01145537737673,0.99795594942714,0.984010916115228,0.96959155201862,0.954668928304118,0.939214364724464,0.923199957707746,0.906599173340467,0.889387486029765,0.871543035493808,0.853047267647964,0.833885520281449,0.814047513422356,0.793527707820037,0.772325503167543,0.750445259797338,0.727896142045404,0.704691796206226,0.6808498888479,0.656391540496611,0.631340694374517,0.605723459914507,0.579567466882739,0.552901259313285,0.525753750459374,0.498153751829761,0.470129582039124,0.441708755220984,0.412917744350392,0.383781811959581,0.354324899195481,0.324569563678834,0.294536956884544,0.264246832505247,0.233717578268541,0.20296626479078,0.172008706155737,0.140859527935061,0.140859527935061,1.01701958636033,1.02707464620731,1.03732132563992,1.04777425022982,1.05844923406077,1.06936334774913,1.0805349790225,1.09198388157351,1.10373120687707,1.11579951255391,1.12821273975098,1.1409961510005,1.15417621927752,1.16778045871556,1.18183718792931,1.19637521842751,1.2114234634634,1.22701046707105,1.24316385901661,1.25990974873298,1.27727207944231,1.29527197167079,1.31392709198651,1.33325108668396,1.35325312009913,1.37393755256447,1.39530378377303,1.41734627447417,1.44005474469599,1.46341453222769,1.48740708298464,1.51201053668502,1.53720036773596,1.56295004222396,1.58923165657712,1.61601653054817,1.64327573530391,1.67098054542198,1.69910281064553,1.72761524885484,1.75649166573362,1.7857071091285,1.81523796735461,1.84506202098276,1.87515845724477,1.90550785536889,1.93609215011155,1.96689457963193,1.99789962276436,2.02909292973981,2.06046124952402,2.09199235618684,2.12367497609207,2.15549871719065,2.18745400129699,2.21953199991399,2.25172457393243,2.2840242173499,2.31642400502254,2.34891754436883,2.38149893087971,2.41416270724749,2.44690382590033,2.4797176147168,2.51259974569101,2.54554620632219,2.5785532735096,2.61161748974401,2.64473564139923,2.67790473893985,2.71112199887497,2.74438482730071,2.77769080488729,2.81103767317863,2.84442332208396,2.87784577845199,2.91130319562765,2.94479384390127,2.97831610176812,3.01186844792395,1.40114547371637],"text":["Outcome_age: 19.00000<br />Effect_size: 2.2065070<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 19.81443<br />Effect_size: 2.1859048<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 20.62886<br />Effect_size: 2.1653027<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 21.44329<br />Effect_size: 2.1447006<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 22.25772<br />Effect_size: 2.1240985<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 23.07215<br />Effect_size: 2.1034964<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 23.88658<br />Effect_size: 2.0828942<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 24.70101<br />Effect_size: 2.0622921<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 25.51544<br />Effect_size: 2.0416900<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 26.32987<br />Effect_size: 2.0210879<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 27.14430<br />Effect_size: 2.0004858<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 27.95873<br />Effect_size: 1.9798837<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 28.77316<br />Effect_size: 1.9592815<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 29.58759<br />Effect_size: 1.9386794<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 30.40203<br />Effect_size: 1.9180773<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 31.21646<br />Effect_size: 1.8974752<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 32.03089<br />Effect_size: 1.8768731<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 32.84532<br />Effect_size: 1.8562709<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 33.65975<br />Effect_size: 1.8356688<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 34.47418<br />Effect_size: 1.8150667<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 35.28861<br />Effect_size: 1.7944646<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 36.10304<br />Effect_size: 1.7738625<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 36.91747<br />Effect_size: 1.7532603<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 37.73190<br />Effect_size: 1.7326582<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 38.54633<br />Effect_size: 1.7120561<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 39.36076<br />Effect_size: 1.6914540<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 40.17519<br />Effect_size: 1.6708519<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 40.98962<br />Effect_size: 1.6502497<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 41.80405<br />Effect_size: 1.6296476<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 42.61848<br />Effect_size: 1.6090455<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 43.43291<br />Effect_size: 1.5884434<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 44.24734<br />Effect_size: 1.5678413<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 45.06177<br />Effect_size: 1.5472392<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 45.87620<br />Effect_size: 1.5266370<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 46.69063<br />Effect_size: 1.5060349<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 47.50506<br />Effect_size: 1.4854328<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 48.31949<br />Effect_size: 1.4648307<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 49.13392<br />Effect_size: 1.4442286<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 49.94835<br />Effect_size: 1.4236264<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 50.76278<br />Effect_size: 1.4030243<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 51.57722<br />Effect_size: 1.3824222<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 52.39165<br />Effect_size: 1.3618201<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 53.20608<br />Effect_size: 1.3412180<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 54.02051<br />Effect_size: 1.3206158<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 54.83494<br />Effect_size: 1.3000137<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 55.64937<br />Effect_size: 1.2794116<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 56.46380<br />Effect_size: 1.2588095<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 57.27823<br />Effect_size: 1.2382074<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 58.09266<br />Effect_size: 1.2176052<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 58.90709<br />Effect_size: 1.1970031<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 59.72152<br />Effect_size: 1.1764010<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 60.53595<br />Effect_size: 1.1557989<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 61.35038<br />Effect_size: 1.1351968<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 62.16481<br />Effect_size: 1.1145947<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 62.97924<br />Effect_size: 1.0939925<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 63.79367<br />Effect_size: 1.0733904<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 64.60810<br />Effect_size: 1.0527883<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 65.42253<br />Effect_size: 1.0321862<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 66.23696<br />Effect_size: 1.0115841<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 67.05139<br />Effect_size: 0.9909819<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 67.86582<br />Effect_size: 0.9703798<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 68.68025<br />Effect_size: 0.9497777<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.49468<br />Effect_size: 0.9291756<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 70.30911<br />Effect_size: 0.9085735<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 71.12354<br />Effect_size: 0.8879713<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 71.93797<br />Effect_size: 0.8673692<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 72.75241<br />Effect_size: 0.8467671<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 73.56684<br />Effect_size: 0.8261650<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 74.38127<br />Effect_size: 0.8055629<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 75.19570<br />Effect_size: 0.7849607<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 76.01013<br />Effect_size: 0.7643586<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 76.82456<br />Effect_size: 0.7437565<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 77.63899<br />Effect_size: 0.7231544<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 78.45342<br />Effect_size: 0.7025523<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 79.26785<br />Effect_size: 0.6819502<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 80.08228<br />Effect_size: 0.6613480<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 80.89671<br />Effect_size: 0.6407459<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 81.71114<br />Effect_size: 0.6201438<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 82.52557<br />Effect_size: 0.5995417<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34000<br />Effect_size: 0.5789396<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34000<br />Effect_size: 0.5789396<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 83.34000<br />Effect_size: 0.5789396<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 82.52557<br />Effect_size: 0.5995417<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 81.71114<br />Effect_size: 0.6201438<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 80.89671<br />Effect_size: 0.6407459<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 80.08228<br />Effect_size: 0.6613480<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 79.26785<br />Effect_size: 0.6819502<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 78.45342<br />Effect_size: 0.7025523<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 77.63899<br />Effect_size: 0.7231544<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 76.82456<br />Effect_size: 0.7437565<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 76.01013<br />Effect_size: 0.7643586<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 75.19570<br />Effect_size: 0.7849607<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 74.38127<br />Effect_size: 0.8055629<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 73.56684<br />Effect_size: 0.8261650<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 72.75241<br />Effect_size: 0.8467671<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 71.93797<br />Effect_size: 0.8673692<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 71.12354<br />Effect_size: 0.8879713<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 70.30911<br />Effect_size: 0.9085735<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 69.49468<br />Effect_size: 0.9291756<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 68.68025<br />Effect_size: 0.9497777<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 67.86582<br />Effect_size: 0.9703798<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 67.05139<br />Effect_size: 0.9909819<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 66.23696<br />Effect_size: 1.0115841<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 65.42253<br />Effect_size: 1.0321862<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 64.60810<br />Effect_size: 1.0527883<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 63.79367<br />Effect_size: 1.0733904<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 62.97924<br />Effect_size: 1.0939925<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 62.16481<br />Effect_size: 1.1145947<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 61.35038<br />Effect_size: 1.1351968<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 60.53595<br />Effect_size: 1.1557989<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 59.72152<br />Effect_size: 1.1764010<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 58.90709<br />Effect_size: 1.1970031<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 58.09266<br />Effect_size: 1.2176052<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 57.27823<br />Effect_size: 1.2382074<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 56.46380<br />Effect_size: 1.2588095<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 55.64937<br />Effect_size: 1.2794116<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 54.83494<br />Effect_size: 1.3000137<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 54.02051<br />Effect_size: 1.3206158<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 53.20608<br />Effect_size: 1.3412180<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 52.39165<br />Effect_size: 1.3618201<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 51.57722<br />Effect_size: 1.3824222<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 50.76278<br />Effect_size: 1.4030243<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 49.94835<br />Effect_size: 1.4236264<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 49.13392<br />Effect_size: 1.4442286<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 48.31949<br />Effect_size: 1.4648307<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 47.50506<br />Effect_size: 1.4854328<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 46.69063<br />Effect_size: 1.5060349<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 45.87620<br />Effect_size: 1.5266370<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 45.06177<br />Effect_size: 1.5472392<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 44.24734<br />Effect_size: 1.5678413<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 43.43291<br />Effect_size: 1.5884434<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 42.61848<br />Effect_size: 1.6090455<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 41.80405<br />Effect_size: 1.6296476<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 40.98962<br />Effect_size: 1.6502497<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 40.17519<br />Effect_size: 1.6708519<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 39.36076<br />Effect_size: 1.6914540<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 38.54633<br />Effect_size: 1.7120561<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 37.73190<br />Effect_size: 1.7326582<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 36.91747<br />Effect_size: 1.7532603<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 36.10304<br />Effect_size: 1.7738625<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 35.28861<br />Effect_size: 1.7944646<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 34.47418<br />Effect_size: 1.8150667<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 33.65975<br />Effect_size: 1.8356688<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 32.84532<br />Effect_size: 1.8562709<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 32.03089<br />Effect_size: 1.8768731<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 31.21646<br />Effect_size: 1.8974752<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 30.40203<br />Effect_size: 1.9180773<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 29.58759<br />Effect_size: 1.9386794<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 28.77316<br />Effect_size: 1.9592815<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 27.95873<br />Effect_size: 1.9798837<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 27.14430<br />Effect_size: 2.0004858<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 26.32987<br />Effect_size: 2.0210879<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 25.51544<br />Effect_size: 2.0416900<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 24.70101<br />Effect_size: 2.0622921<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 23.88658<br />Effect_size: 2.0828942<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 23.07215<br />Effect_size: 2.1034964<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 22.25772<br />Effect_size: 2.1240985<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 21.44329<br />Effect_size: 2.1447006<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 20.62886<br />Effect_size: 2.1653027<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 19.81443<br />Effect_size: 2.1859048<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 19.00000<br />Effect_size: 2.2065070<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ","Outcome_age: 19.00000<br />Effect_size: 2.2065070<br />1/(SE^2): 0.5<br />Design: Control Prior IQ<br />Design: Control Prior IQ"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(228,26,28,0.25)","hoveron":"points","hoverinfo":"x+y","name":"Control Prior IQ","legendgroup":"Control Prior IQ","showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[18,18.6708860759494,19.3417721518987,20.0126582278481,20.6835443037975,21.3544303797468,22.0253164556962,22.6962025316456,23.3670886075949,24.0379746835443,24.7088607594937,25.379746835443,26.0506329113924,26.7215189873418,27.3924050632911,28.0632911392405,28.7341772151899,29.4050632911392,30.0759493670886,30.746835443038,31.4177215189873,32.0886075949367,32.7594936708861,33.4303797468354,34.1012658227848,34.7721518987342,35.4430379746835,36.1139240506329,36.7848101265823,37.4556962025316,38.126582278481,38.7974683544304,39.4683544303797,40.1392405063291,40.8101265822785,41.4810126582278,42.1518987341772,42.8227848101266,43.4936708860759,44.1645569620253,44.8354430379747,45.5063291139241,46.1772151898734,46.8481012658228,47.5189873417722,48.1898734177215,48.8607594936709,49.5316455696203,50.2025316455696,50.873417721519,51.5443037974684,52.2151898734177,52.8860759493671,53.5569620253165,54.2278481012658,54.8987341772152,55.5696202531646,56.2405063291139,56.9113924050633,57.5822784810127,58.253164556962,58.9240506329114,59.5949367088608,60.2658227848101,60.9367088607595,61.6075949367089,62.2784810126582,62.9493670886076,63.620253164557,64.2911392405063,64.9620253164557,65.6329113924051,66.3037974683544,66.9746835443038,67.6455696202532,68.3164556962025,68.9873417721519,69.6582278481013,70.3291139240506,71,71,70.3291139240506,69.6582278481013,68.9873417721519,68.3164556962025,67.6455696202532,66.9746835443038,66.3037974683544,65.6329113924051,64.9620253164557,64.2911392405063,63.620253164557,62.9493670886076,62.2784810126582,61.6075949367089,60.9367088607595,60.2658227848101,59.5949367088608,58.9240506329114,58.253164556962,57.5822784810127,56.9113924050633,56.2405063291139,55.5696202531646,54.8987341772152,54.2278481012658,53.5569620253165,52.8860759493671,52.2151898734177,51.5443037974684,50.873417721519,50.2025316455696,49.5316455696203,48.8607594936709,48.1898734177215,47.5189873417722,46.8481012658228,46.1772151898734,45.5063291139241,44.8354430379747,44.1645569620253,43.4936708860759,42.8227848101266,42.1518987341772,41.4810126582278,40.8101265822785,40.1392405063291,39.4683544303797,38.7974683544304,38.126582278481,37.4556962025316,36.7848101265823,36.1139240506329,35.4430379746835,34.7721518987342,34.1012658227848,33.4303797468354,32.7594936708861,32.0886075949367,31.4177215189873,30.746835443038,30.0759493670886,29.4050632911392,28.7341772151899,28.0632911392405,27.3924050632911,26.7215189873418,26.0506329113924,25.379746835443,24.7088607594937,24.0379746835443,23.3670886075949,22.6962025316456,22.0253164556962,21.3544303797468,20.6835443037975,20.0126582278481,19.3417721518987,18.6708860759494,18,18],"y":[0.201695286273825,0.229712293519426,0.257565445168175,0.285246596144008,0.312747117231737,0.340057864850275,0.367169149298235,0.394070701503354,0.420751638338543,0.447200426606086,0.473404845838964,0.499351950125715,0.525028029234221,0.550418569391729,0.575508214174917,0.600280726076164,0.62471894944173,0.64880477562504,0.67251911136391,0.695841851573774,0.718751857947795,0.741226944965746,0.763243875131035,0.784778365471015,0.805805107538466,0.826297803326901,0.846229219640294,0.865571263516403,0.884295081265551,0.902371183524758,0.919769598410362,0.936460054352311,0.952412193486512,0.96759581555373,0.981981151104324,0.995539161456807,1.00824186134769,1.02006265860978,1.03097670362237,1.04096123980923,1.04999594525338,1.05806325468981,1.06514865085234,1.07124091448339,1.07633232331143,1.08041879194753,1.08349994686979,1.08557913331282,1.08666335376763,1.08676314070868,1.08589236887717,1.0840680147671,1.08130987272955,1.07764023824055,1.07308356934147,1.06766613709324,1.06141567517376,1.05436103760969,1.0465318722078,1.03795831567203,1.02867071478524,1.0186993764994,1.00807434839069,0.996825229743804,0.984981012557285,0.972569951011009,0.95961945739746,0.946156022167003,0.9322051555468,0.917791348133124,0.902938047898349,0.887667651169888,0.872001505305422,0.855959920987114,0.83956219227177,0.822826622751751,0.805770556394291,0.788410411828479,0.770761719035697,0.752839157568578,3.30435619535629,3.2784622915978,3.25284225651366,3.22751076965649,3.20248336100766,3.17777644919628,3.15340737818958,3.12939445157991,3.10575696342408,3.08251522440426,3.05969058187812,3.03730543217308,3.01538322326152,2.9939484457397,2.97302660983479,2.95264420599715,2.93282864651927,2.91360818558102,2.89501181518094,2.87706913460375,2.85981019142559,2.84326529259846,2.82746478490521,2.81243880504978,2.79821700083893,2.78482822629934,2.7723002151089,2.76065923832854,2.74992975399963,2.7401340575982,2.73129194347533,2.72342038812501,2.71653326628846,2.71064111044013,2.70575092307103,2.70186604941576,2.69898611595244,2.69710703729213,2.6962210911633,2.69631705830836,2.69738042146115,2.69939361535665,2.70233631807788,2.70618577304861,2.71091713064813,2.71650379870925,2.72291779196848,2.73013007174434,2.73811086858718,2.74682998223777,2.75625705483201,2.76636181479985,2.77711429025764,2.78848499184239,2.80044506586442,2.81296641936149,2.82602181913758,2.8395849671862,2.85363055506012,2.86813429978671,2.88307296386937,2.89842436178787,2.91416735523538,2.93028183912733,2.94674872020153,2.96354988981142,2.98066819230324,2.99808739016939,3.01579212698654,3.03376788898192,3.05200096592344,3.07047841189962,3.08918800644345,3.10811821635721,3.1272581585138,3.14659756384098,3.16612674263735,3.18583655132182,3.20571836067921,3.22576402563344,0.201695286273825],"text":["Outcome_age: 18.00000<br />Effect_size: 1.7137297<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.67089<br />Effect_size: 1.7177153<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 19.34177<br />Effect_size: 1.7217010<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 20.01266<br />Effect_size: 1.7256867<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 20.68354<br />Effect_size: 1.7296723<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 21.35443<br />Effect_size: 1.7336580<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 22.02532<br />Effect_size: 1.7376437<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 22.69620<br />Effect_size: 1.7416294<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 23.36709<br />Effect_size: 1.7456150<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 24.03797<br />Effect_size: 1.7496007<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 24.70886<br />Effect_size: 1.7535864<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 25.37975<br />Effect_size: 1.7575720<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 26.05063<br />Effect_size: 1.7615577<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 26.72152<br />Effect_size: 1.7655434<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 27.39241<br />Effect_size: 1.7695291<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 28.06329<br />Effect_size: 1.7735147<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 28.73418<br />Effect_size: 1.7775004<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 29.40506<br />Effect_size: 1.7814861<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 30.07595<br />Effect_size: 1.7854717<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 30.74684<br />Effect_size: 1.7894574<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 31.41772<br />Effect_size: 1.7934431<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 32.08861<br />Effect_size: 1.7974288<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 32.75949<br />Effect_size: 1.8014144<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 33.43038<br />Effect_size: 1.8054001<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 34.10127<br />Effect_size: 1.8093858<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 34.77215<br />Effect_size: 1.8133714<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 35.44304<br />Effect_size: 1.8173571<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 36.11392<br />Effect_size: 1.8213428<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 36.78481<br />Effect_size: 1.8253284<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 37.45570<br />Effect_size: 1.8293141<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 38.12658<br />Effect_size: 1.8332998<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 38.79747<br />Effect_size: 1.8372855<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 39.46835<br />Effect_size: 1.8412711<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 40.13924<br />Effect_size: 1.8452568<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 40.81013<br />Effect_size: 1.8492425<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 41.48101<br />Effect_size: 1.8532281<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 42.15190<br />Effect_size: 1.8572138<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 42.82278<br />Effect_size: 1.8611995<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 43.49367<br />Effect_size: 1.8651852<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 44.16456<br />Effect_size: 1.8691708<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 44.83544<br />Effect_size: 1.8731565<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 45.50633<br />Effect_size: 1.8771422<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.17722<br />Effect_size: 1.8811278<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.84810<br />Effect_size: 1.8851135<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 47.51899<br />Effect_size: 1.8890992<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.18987<br />Effect_size: 1.8930849<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.86076<br />Effect_size: 1.8970705<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 49.53165<br />Effect_size: 1.9010562<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 50.20253<br />Effect_size: 1.9050419<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 50.87342<br />Effect_size: 1.9090275<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 51.54430<br />Effect_size: 1.9130132<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 52.21519<br />Effect_size: 1.9169989<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 52.88608<br />Effect_size: 1.9209846<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55696<br />Effect_size: 1.9249702<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.22785<br />Effect_size: 1.9289559<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.89873<br />Effect_size: 1.9329416<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 55.56962<br />Effect_size: 1.9369272<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 56.24051<br />Effect_size: 1.9409129<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 56.91139<br />Effect_size: 1.9448986<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 57.58228<br />Effect_size: 1.9488843<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 58.25316<br />Effect_size: 1.9528699<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 58.92405<br />Effect_size: 1.9568556<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 59.59494<br />Effect_size: 1.9608413<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.26582<br />Effect_size: 1.9648269<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.93671<br />Effect_size: 1.9688126<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 61.60759<br />Effect_size: 1.9727983<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 62.27848<br />Effect_size: 1.9767840<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 62.94937<br />Effect_size: 1.9807696<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 63.62025<br />Effect_size: 1.9847553<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 64.29114<br />Effect_size: 1.9887410<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 64.96203<br />Effect_size: 1.9927266<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 65.63291<br />Effect_size: 1.9967123<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 66.30380<br />Effect_size: 2.0006980<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 66.97468<br />Effect_size: 2.0046836<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 67.64557<br />Effect_size: 2.0086693<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.31646<br />Effect_size: 2.0126550<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.98734<br />Effect_size: 2.0166407<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 69.65823<br />Effect_size: 2.0206263<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 70.32911<br />Effect_size: 2.0246120<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00000<br />Effect_size: 2.0285977<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 71.00000<br />Effect_size: 2.0285977<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 70.32911<br />Effect_size: 2.0246120<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 69.65823<br />Effect_size: 2.0206263<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.98734<br />Effect_size: 2.0166407<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 68.31646<br />Effect_size: 2.0126550<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 67.64557<br />Effect_size: 2.0086693<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 66.97468<br />Effect_size: 2.0046836<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 66.30380<br />Effect_size: 2.0006980<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 65.63291<br />Effect_size: 1.9967123<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 64.96203<br />Effect_size: 1.9927266<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 64.29114<br />Effect_size: 1.9887410<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 63.62025<br />Effect_size: 1.9847553<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 62.94937<br />Effect_size: 1.9807696<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 62.27848<br />Effect_size: 1.9767840<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 61.60759<br />Effect_size: 1.9727983<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.93671<br />Effect_size: 1.9688126<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 60.26582<br />Effect_size: 1.9648269<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 59.59494<br />Effect_size: 1.9608413<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 58.92405<br />Effect_size: 1.9568556<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 58.25316<br />Effect_size: 1.9528699<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 57.58228<br />Effect_size: 1.9488843<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 56.91139<br />Effect_size: 1.9448986<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 56.24051<br />Effect_size: 1.9409129<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 55.56962<br />Effect_size: 1.9369272<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.89873<br />Effect_size: 1.9329416<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 54.22785<br />Effect_size: 1.9289559<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 53.55696<br />Effect_size: 1.9249702<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 52.88608<br />Effect_size: 1.9209846<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 52.21519<br />Effect_size: 1.9169989<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 51.54430<br />Effect_size: 1.9130132<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 50.87342<br />Effect_size: 1.9090275<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 50.20253<br />Effect_size: 1.9050419<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 49.53165<br />Effect_size: 1.9010562<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.86076<br />Effect_size: 1.8970705<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 48.18987<br />Effect_size: 1.8930849<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 47.51899<br />Effect_size: 1.8890992<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.84810<br />Effect_size: 1.8851135<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 46.17722<br />Effect_size: 1.8811278<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 45.50633<br />Effect_size: 1.8771422<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 44.83544<br />Effect_size: 1.8731565<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 44.16456<br />Effect_size: 1.8691708<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 43.49367<br />Effect_size: 1.8651852<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 42.82278<br />Effect_size: 1.8611995<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 42.15190<br />Effect_size: 1.8572138<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 41.48101<br />Effect_size: 1.8532281<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 40.81013<br />Effect_size: 1.8492425<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 40.13924<br />Effect_size: 1.8452568<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 39.46835<br />Effect_size: 1.8412711<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 38.79747<br />Effect_size: 1.8372855<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 38.12658<br />Effect_size: 1.8332998<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 37.45570<br />Effect_size: 1.8293141<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 36.78481<br />Effect_size: 1.8253284<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 36.11392<br />Effect_size: 1.8213428<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 35.44304<br />Effect_size: 1.8173571<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 34.77215<br />Effect_size: 1.8133714<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 34.10127<br />Effect_size: 1.8093858<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 33.43038<br />Effect_size: 1.8054001<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 32.75949<br />Effect_size: 1.8014144<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 32.08861<br />Effect_size: 1.7974288<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 31.41772<br />Effect_size: 1.7934431<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 30.74684<br />Effect_size: 1.7894574<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 30.07595<br />Effect_size: 1.7854717<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 29.40506<br />Effect_size: 1.7814861<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 28.73418<br />Effect_size: 1.7775004<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 28.06329<br />Effect_size: 1.7735147<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 27.39241<br />Effect_size: 1.7695291<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 26.72152<br />Effect_size: 1.7655434<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 26.05063<br />Effect_size: 1.7615577<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 25.37975<br />Effect_size: 1.7575720<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 24.70886<br />Effect_size: 1.7535864<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 24.03797<br />Effect_size: 1.7496007<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 23.36709<br />Effect_size: 1.7456150<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 22.69620<br />Effect_size: 1.7416294<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 22.02532<br />Effect_size: 1.7376437<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 21.35443<br />Effect_size: 1.7336580<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 20.68354<br />Effect_size: 1.7296723<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 20.01266<br />Effect_size: 1.7256867<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 19.34177<br />Effect_size: 1.7217010<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.67089<br />Effect_size: 1.7177153<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.00000<br />Effect_size: 1.7137297<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change","Outcome_age: 18.00000<br />Effect_size: 1.7137297<br />1/(SE^2): 0.5<br />Design: Policy Change<br />Design: Policy Change"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(55,126,184,0.25)","hoveron":"points","hoverinfo":"x+y","name":"Policy Change","legendgroup":"Policy Change","showlegend":false,"xaxis":"x","yaxis":"y2","frame":null}],"layout":{"margin":{"t":55.4520547945205,"r":18.9954337899543,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Effect of education as a function of age at the outcome test","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[14.733,86.607],"tickmode":"array","ticktext":["20","30","40","50","60","70","80"],"tickvals":[20,30,40,50,60,70,80],"categoryorder":"array","categoryarray":["20","30","40","50","60","70","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"annotations":[{"text":"Age at outcome test (years)","x":0.5,"y":-0.0471841704718417,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"Gain for 1 year of education<br />(IQ points)","x":-0.0510980647966949,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"Control Prior IQ","x":1,"y":0.757610350076104,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"},{"text":"Policy Change","x":1,"y":0.242389649923896,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":90,"xanchor":"left","yanchor":"middle"}],"yaxis":{"domain":[0.515220700152207,1],"automargin":true,"type":"linear","autorange":false,"range":[-4.35,5.55],"tickmode":"array","ticktext":["-2.5","0.0","2.5","5.0"],"tickvals":[-2.5,0,2.5,5],"categoryorder":"array","categoryarray":["-2.5","0.0","2.5","5.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0.515220700152207,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0.515220700152207,"y1":1,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"},{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":0.484779299847793},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","y0":0,"y1":0.484779299847793,"x0":0,"x1":23.37899543379,"xanchor":1,"xsizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[-4.35,5.55],"tickmode":"array","ticktext":["-2.5","0.0","2.5","5.0"],"tickvals":[-2.5,0,2.5,5],"categoryorder":"array","categoryarray":["-2.5","0.0","2.5","5.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.484779299847793],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":1},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"98806b2e1581":{"x":{},"y":{},"size":{},"colour":{},"fill":{},"type":"scatter"},"98801e85ff20":{"yintercept":{}},"98806f309d87":{"x":{},"y":{},"size":{},"colour":{},"fill":{}}},"cur_data":"98806b2e1581","visdat":{"98806b2e1581":["function (y) ","x"],"98801e85ff20":["function (y) ","x"],"98806f309d87":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Не всегда это получается так, как хотелось бы, но простота этого способа подкупляет: теперь наведение на курсора на точки открывает небольшое окошко с дополнительной информацией о точке (конечно, если вы читаете эту книгу в PDF или ePUB, то этого не увидите).</p>
<p>Другой способ создания графиков — создание вручную с помощью <code>plot_ly()</code>. Такой способ частично напоминает <code>ggplot2</code> использованием пайпов (обычных <code>%&gt;%</code>, а не <code>+</code>), задание эстетик здесь происходит с помощью <code>~</code>.</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb740-1"><a href="vdesc.html#cb740-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(poli, </span>
<span id="cb740-2"><a href="vdesc.html#cb740-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="sc">~</span>Outcome_age, </span>
<span id="cb740-3"><a href="vdesc.html#cb740-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="sc">~</span>Effect_size, </span>
<span id="cb740-4"><a href="vdesc.html#cb740-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="sc">~</span><span class="dv">1</span><span class="sc">/</span>(SE<span class="sc">^</span><span class="dv">2</span>), </span>
<span id="cb740-5"><a href="vdesc.html#cb740-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="sc">~</span>Effect_size, </span>
<span id="cb740-6"><a href="vdesc.html#cb740-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">sizes =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">400</span>),</span>
<span id="cb740-7"><a href="vdesc.html#cb740-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">&quot;N: &quot;</span>, n, <span class="st">&#39;&lt;br&gt;Country:&#39;</span>, Country)) <span class="sc">%&gt;%</span></span>
<span id="cb740-8"><a href="vdesc.html#cb740-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_markers</span>()</span></code></pre></div>
<pre><code>## Warning: `arrange_()` is deprecated as of dplyr 0.7.0.
## Please use `arrange()` instead.
## See vignette(&#39;programming&#39;) for more help
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<pre><code>## Warning: `line.width` does not currently support multiple values.</code></pre>
<div id="htmlwidget-8169982376fc8a850b7e" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-8169982376fc8a850b7e">{"x":{"visdat":{"98805def0e42":["function () ","plotlyVisDat"]},"cur_data":"98805def0e42","attrs":{"98805def0e42":{"x":{},"y":{},"text":{},"color":{},"size":{},"alpha_stroke":1,"sizes":[40,400],"spans":[1,20],"type":"scatter","mode":"markers","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Outcome_age"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Effect_size"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[18.5,19,68.5,68.5,53.55,53.55,53.55,53.55,71,71,71,71,60.81,60.81,60.81,60.81,60.81,18,18,18,18,48.32,46.54,47.54,51,51,51,19.5,19.5,54.5],"y":[1.306122449,3.692,4.95,2.85,5.1,4.65,0.15,0.75,2.61,3.54,3.3,0.12,2.16,2.565,-3.9,-0.195,-0.105,3.024,2.106,-0.297,-0.594,-0.763157895,0.205263158,-0.518421053,2.433333333,4.633333333,4.366666667,3.57,2.22,2.815604],"text":["N:  142221 <br>Country: Sweden","N:  107223 <br>Country: Norway","N:  11427 <br>Country: USA","N:  11427 <br>Country: USA","N:  2385 <br>Country: UK","N:  2057 <br>Country: UK","N:  1963 <br>Country: UK","N:  1701 <br>Country: UK","N:  1860 <br>Country: UK","N:  1860 <br>Country: UK","N:  2163 <br>Country: UK","N:  2163 <br>Country: UK","N:  27699 <br>Country: Austria, Czechia, Denmark, France, Germany, Italy","N:  27693 <br>Country: Austria, Czechia, Denmark, France, Germany, Italy","N:  27555 <br>Country: Austria, Czechia, Denmark, France, Germany, Italy","N:  22368 <br>Country: Austria, Czechia, Denmark, France, Germany, Italy","N:  22467 <br>Country: Austria, Czechia, Denmark, France, Germany, Italy","N:  128617 <br>Country: Sweden","N:  128617 <br>Country: Sweden","N:  128617 <br>Country: Sweden","N:  128617 <br>Country: Sweden","N:  1219 <br>Country: Germany","N:  763 <br>Country: Germany","N:  482 <br>Country: Germany","N:  3559 <br>Country: Germany","N:  4116 <br>Country: Germany","N:  2587 <br>Country: Germany","N:  1525 <br>Country: China","N:  1525 <br>Country: China","N:  8540 <br>Country: UK"],"type":"scatter","mode":"markers","marker":{"colorbar":{"title":"Effect_size","ticklen":2},"cmin":-3.9,"cmax":5.1,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[1.306122449,3.692,4.95,2.85,5.1,4.65,0.15,0.75,2.61,3.54,3.3,0.12,2.16,2.565,-3.9,-0.195,-0.105,3.024,2.106,-0.297,-0.594,-0.763157895,0.205263158,-0.518421053,2.433333333,4.633333333,4.366666667,3.57,2.22,2.815604],"size":[400,40.7208102280537,42.9351787034681,42.1493554429702,40.0501179049207,40.0113045619886,40.2507965991149,40.1374703937218,40.0022999159776,40.0022999159776,40.1016792746701,40.0816541580493,40.6104358587977,40.429454175733,40,45.2202443135871,56.3973172544672,41.5926785278364,41.3439311596707,40.9918841264254,41.4605359869678,40.2813518240181,40.0698709623631,40.1796319213868,45.5939629537624,45.5939629537624,44.6184637444074,40.1868083735077,40.0628366582486,43.2412782200454],"sizemode":"area","line":{"colorbar":{"title":"","ticklen":2},"cmin":-3.9,"cmax":5.1,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[1.306122449,3.692,4.95,2.85,5.1,4.65,0.15,0.75,2.61,3.54,3.3,0.12,2.16,2.565,-3.9,-0.195,-0.105,3.024,2.106,-0.297,-0.594,-0.763157895,0.205263158,-0.518421053,2.433333333,4.633333333,4.366666667,3.57,2.22,2.815604]}},"textfont":{"size":[400,40.7208102280537,42.9351787034681,42.1493554429702,40.0501179049207,40.0113045619886,40.2507965991149,40.1374703937218,40.0022999159776,40.0022999159776,40.1016792746701,40.0816541580493,40.6104358587977,40.429454175733,40,45.2202443135871,56.3973172544672,41.5926785278364,41.3439311596707,40.9918841264254,41.4605359869678,40.2813518240181,40.0698709623631,40.1796319213868,45.5939629537624,45.5939629537624,44.6184637444074,40.1868083735077,40.0628366582486,43.2412782200454]},"error_y":{"width":[]},"error_x":{"width":[]},"xaxis":"x","yaxis":"y","frame":null},{"x":[18,71],"y":[-3.9,5.1],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Effect_size","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":-3.9,"cmax":5.1,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(70,19,97,1)"],["0.0833333333333333","rgba(72,32,111,1)"],["0.125","rgba(71,45,122,1)"],["0.166666666666667","rgba(68,58,128,1)"],["0.208333333333333","rgba(64,70,135,1)"],["0.25","rgba(60,82,138,1)"],["0.291666666666667","rgba(56,93,140,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(46,114,142,1)"],["0.416666666666667","rgba(42,123,142,1)"],["0.458333333333333","rgba(38,133,141,1)"],["0.5","rgba(37,144,140,1)"],["0.541666666666667","rgba(33,154,138,1)"],["0.583333333333333","rgba(39,164,133,1)"],["0.625","rgba(47,174,127,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(79,191,110,1)"],["0.75","rgba(98,199,98,1)"],["0.791666666666667","rgba(119,207,85,1)"],["0.833333333333333","rgba(147,214,70,1)"],["0.875","rgba(172,220,52,1)"],["0.916666666666667","rgba(199,225,42,1)"],["0.958333333333333","rgba(226,228,40,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[-3.9,5.1],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="html_other" class="section level3" number="11.13.3">
<h3><span class="header-section-number">11.13.3</span> Другие пакеты для динамической визуализации</h3>
<p>Кроме <code>plotly</code> есть и множество других HTML-виджетов для динамической визуализации. Я рекомендую посмотреть их самостоятельно на
<a href="http://gallery.htmlwidgets.org/" class="uri">http://gallery.htmlwidgets.org/</a></p>
<p>Выделю некоторые из них:</p>
<ul>
<li><a href="https://echarts4r.john-coene.com/articles/get_started.html"><code>echarts4r</code></a> — один из основных конкурентов для <code>plotly</code>. Симпатичный, работает довольно плавно, синтаксис тоже пытается вписаться в логику tidyverse.</li>
<li><a href="https://rstudio.github.io/leaflet/"><code>leaflet</code></a> — основной (но не единственный!) пакет для работы с картами. Leaflet — это очень популярная библиотека JavaScript, используемая во многих веб-приложениях, а пакет <code>leaflet</code> - это довольно понятный интерфейс к ней с широкими возможностями.</li>
<li><a href="http://christophergandrud.github.io/networkD3/"><code>networkD3</code></a> — пакет для интерактивной визуализации сетей. Подходит для небольших сетей.</li>
</ul>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="28">
<li id="fn28"><p>Квартиль — это частный пример квантиля. Другой известный квантиль — процентиль. Процентили часто используют для сравнения значения с другими значениями. Например, 63ий процентиль означает, что данное значение больше 63% значений в выборке.<a href="vdesc.html#fnref28" class="footnote-back">↩︎</a></p></li>
<li id="fn29"><p>идентична по своему смыслу функции <code>dplyr::count</code>, которая считает частоты по выбранной колонке тиббла @ref(tidy_count)<a href="vdesc.html#fnref29" class="footnote-back">↩︎</a></p></li>
<li id="fn30"><p>Декартова система координат названа в честь великого математика и философа Рене Декарта, на латинском — <em>Renatus Cartesius</em>, отсюда и название <em>cartesian coordinate system</em>.<a href="vdesc.html#fnref30" class="footnote-back">↩︎</a></p></li>
<li id="fn31"><p>Кстати, именно функция <code>subset()</code> вдохновила Уикхема на создание <code>filter()</code>.<a href="vdesc.html#fnref31" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidyverse-advanced.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rmd.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Pozdniakov/tidy_stats/edit/master/04-1-desc_stats_ggplot2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["tidy_stats.pdf", "tidy_stats.epub"],
"toc": {
"collapse": "section"
},
"self_contained": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
